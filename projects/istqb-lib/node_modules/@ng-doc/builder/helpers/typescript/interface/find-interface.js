"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.findInterface = findInterface;
const ts_morph_1 = require("ts-morph");
/**
 *
 * @param int
 * @param fn
 */
function findInterface(int, fn) {
    const baseInterface = int;
    if (fn(baseInterface)) {
        return baseInterface;
    }
    const ext = baseInterface
        .getExtends()
        .map((expr) => { var _a; return (_a = expr.getType().getSymbol()) === null || _a === void 0 ? void 0 : _a.getDeclarations()[0]; })
        .filter((node) => ts_morph_1.Node.isInterfaceDeclaration(node))
        // Reverse interfaces because the latest one overrides previous one
        .reverse();
    for (const i of ext) {
        const deepResult = findInterface(i, fn);
        if (deepResult) {
            return i;
        }
    }
    return undefined;
}
//# sourceMappingURL=find-interface.js.map