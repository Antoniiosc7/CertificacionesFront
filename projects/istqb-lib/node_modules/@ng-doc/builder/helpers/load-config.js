"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadConfig = loadConfig;
const cosmiconfig_1 = require("cosmiconfig");
const cosmiconfig_typescript_loader_1 = require("cosmiconfig-typescript-loader");
/**
 * Loads configuration from global configuration file
 * @param path - Path to the configuration file
 * @param search - Whether to search for the configuration file or not
 */
function loadConfig(path, search = true) {
    var _a, _b;
    const moduleName = 'ng-doc';
    const explorerSync = (0, cosmiconfig_1.cosmiconfigSync)(moduleName, {
        searchPlaces: [`${moduleName}.config.ts`, `${moduleName}.config.js`],
        loaders: {
            '.ts': (0, cosmiconfig_typescript_loader_1.TypeScriptLoader)(),
        },
    });
    const searchedFor = search
        ? explorerSync.search(path)
        : explorerSync.load(path);
    return [(_a = searchedFor === null || searchedFor === void 0 ? void 0 : searchedFor.filepath) !== null && _a !== void 0 ? _a : '', (_b = searchedFor === null || searchedFor === void 0 ? void 0 : searchedFor.config) !== null && _b !== void 0 ? _b : {}];
}
//# sourceMappingURL=load-config.js.map