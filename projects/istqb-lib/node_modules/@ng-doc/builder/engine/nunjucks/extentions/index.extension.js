"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NgDocIndexExtension = void 0;
const tslib_1 = require("tslib");
const nunjucks_1 = tslib_1.__importDefault(require("nunjucks"));
class NgDocIndexExtension {
    constructor() {
        this.tags = ['index'];
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    parse(parser, nodes) {
        const token = parser.nextToken();
        const args = parser.parseSignature(null, true);
        parser.advanceAfterBlockEnd(token.value);
        const body = parser.parseUntilBlocks('endindex');
        parser.advanceAfterBlockEnd();
        return new nodes.CallExtension(this, 'run', args, [body]);
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    run(context, index, body) {
        return new nunjucks_1.default.runtime.SafeString(`<div indexable="${index}">${body()}</div>`);
    }
}
exports.NgDocIndexExtension = NgDocIndexExtension;
//# sourceMappingURL=index.extension.js.map