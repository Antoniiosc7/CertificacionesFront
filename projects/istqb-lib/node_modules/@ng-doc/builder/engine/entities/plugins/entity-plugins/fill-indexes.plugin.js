"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fillIndexesPlugin = fillIndexesPlugin;
const tslib_1 = require("tslib");
const helpers_1 = require("../../../../helpers");
const build_indexes_1 = require("../../../../helpers/build-indexes");
/**
 *
 */
function fillIndexesPlugin() {
    return {
        id: 'fillIndexesPlugin',
        execute: (data, entity) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            const indexes = yield (0, build_indexes_1.buildIndexes)({
                title: entity.title,
                content: data,
                pageType: (0, helpers_1.getPageType)(entity),
                breadcrumbs: entity.breadcrumbs,
                route: entity.fullRoute,
            });
            entity.indexes.push(...indexes);
            return data;
        }),
    };
}
//# sourceMappingURL=fill-indexes.plugin.js.map