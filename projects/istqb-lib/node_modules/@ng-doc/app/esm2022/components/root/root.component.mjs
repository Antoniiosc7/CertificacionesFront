import { __decorate, __metadata } from "tslib";
import { AsyncPipe, NgIf } from '@angular/common';
import { ChangeDetectionStrategy, Component, Directive, HostBinding, Input, ViewChild, } from '@angular/core';
import { NgDocSidebarService } from '@ng-doc/app/services/sidebar';
import { NgDocLetDirective, NgDocSidenavComponent, } from '@ng-doc/ui-kit';
import { UntilDestroy } from '@ngneat/until-destroy';
import { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';
import { combineLatest, merge, NEVER, of } from 'rxjs';
import { delay, filter, map, mapTo, startWith } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@ng-doc/app/services/sidebar";
import * as i2 from "@tinkoff/ng-polymorpheus";
/**
 * Directive uses for providing custom navbar, you should mark element with this directive
 * and the `NgDocRootComponent` will use it as a navbar
 *
 * ```html
 * <ng-doc-root>
 *     <my-custom-navbar ngDocCustomNavbar></my-custom-navbar>
 *
 *     <ng-doc-sidebar></ng-doc-sidebar>
 *     <router-outlet></router-outlet>
 * </ng-doc-root>
 * ```
 */
export class NgDocCustomNavbarDirective {
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocCustomNavbarDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "18.1.0", type: NgDocCustomNavbarDirective, isStandalone: true, selector: "[ngDocCustomNavbar]", ngImport: i0 }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocCustomNavbarDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[ngDocCustomNavbar]',
                    standalone: true,
                }]
        }] });
/**
 * Directive uses for providing custom sidebar, you should mark element with this directive
 * and the `NgDocRootComponent` will use it as a sidebar
 *
 * ```html
 * <ng-doc-root>
 *     <ng-doc-navbar></ng-doc-sidebar>
 *
 *     <my-custom-sidebar ngDocCustomSidebar></my-custom-sidebar>
 *     <router-outlet></router-outlet>
 * </ng-doc-root>
 * ```
 */
export class NgDocCustomSidebarDirective {
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocCustomSidebarDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "18.1.0", type: NgDocCustomSidebarDirective, isStandalone: true, selector: "[ngDocCustomSidebar]", ngImport: i0 }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocCustomSidebarDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[ngDocCustomSidebar]',
                    standalone: true,
                }]
        }] });
let NgDocRootComponent = class NgDocRootComponent {
    constructor(sidebarService) {
        this.sidebarService = sidebarService;
        /**
         * If `true` then the sidebar will be shown
         * You can use it for example for landing page to hide sidebar
         */
        this.sidebar = true;
        /**
         * Content for footer
         */
        this.footerContent = '';
        /**
         * If `true` then page will be shown without width limit.
         * You can use it for example for landing page
         */
        this.noWidthLimit = false;
        this.sidenavState$ = NEVER;
    }
    ngAfterViewInit() {
        this.sidenavState$ = combineLatest([
            this.sidebarService.isMobileMode(),
            this.sidenav
                ? merge(this.sidenav.beforeOpen.pipe(mapTo(true)), this.sidenav.afterClose.pipe(mapTo(false))).pipe(startWith(false))
                : of(true),
        ]).pipe(filter(([isMobile, opened]) => !opened || (opened && !isMobile)), map(([isMobile]) => ({
            over: isMobile,
            align: (isMobile ? 'right' : 'left'),
            hasBackdrop: isMobile,
        })), delay(0));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocRootComponent, deps: [{ token: i1.NgDocSidebarService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.1.0", type: NgDocRootComponent, isStandalone: true, selector: "ng-doc-root", inputs: { sidebar: "sidebar", footerContent: "footerContent", noWidthLimit: "noWidthLimit" }, host: { properties: { "attr.data-ng-doc-no-width-limit": "this.noWidthLimit" } }, providers: [], viewQueries: [{ propertyName: "sidenav", first: true, predicate: NgDocSidenavComponent, descendants: true }], ngImport: i0, template: "<ng-container *ngDocLet=\"!!(sidebarService.isMobileMode() | async) as isMobileMode\">\n\t<div class=\"ng-doc-root-wrapper\" [class.collapsable]=\"isMobileMode\">\n\t\t<div class=\"ng-doc-header\">\n\t\t\t<ng-content select=\"ng-doc-navbar\"></ng-content>\n\t\t\t<ng-content select=\"[ngDocCustomNavbar]\"></ng-content>\n\t\t</div>\n\t\t<main *ngDocLet=\"sidebar && !!(sidebarService.isExpanded() | async) as opened\">\n\t\t\t<ng-doc-sidenav\n\t\t\t\t*ngDocLet=\"sidenavState$ | async as sidenavState\"\n\t\t\t\t[sidebar]=\"sidebarContent\"\n\t\t\t\t[opened]=\"opened\"\n\t\t\t\t[over]=\"sidenavState?.over ?? false\"\n\t\t\t\t[align]=\"sidenavState?.align ?? 'left'\"\n\t\t\t\t[hasBackdrop]=\"sidenavState?.hasBackdrop ?? false\"\n\t\t\t\t(closeEvent)=\"sidebarService.hide()\">\n\t\t\t\t<ng-template #sidebarContent>\n\t\t\t\t\t<ng-content select=\"ng-doc-sidebar\"></ng-content>\n\t\t\t\t\t<ng-content select=\"[ngDocCustomSidebar]\"></ng-content>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-content></ng-content>\n\t\t\t</ng-doc-sidenav>\n\t\t</main>\n\t\t<footer *ngIf=\"footerContent\">\n\t\t\t<ng-container *polymorpheusOutlet=\"footerContent as text\"> {{ text }} </ng-container>\n\t\t</footer>\n\t</div>\n</ng-container>\n", styles: [":host[data-ng-doc-no-width-limit=true] .ng-doc-root-wrapper main{max-width:none}:host .ng-doc-root-wrapper{display:flex;flex-direction:column;height:100%}:host .ng-doc-root-wrapper main{display:flex;width:100%;margin-left:auto;margin-right:auto;max-width:var(--ng-doc-app-max-width);padding:var(--ng-doc-main-padding);--ng-doc-sidenav-top: var(--ng-doc-navbar-height);--ng-doc-sidenav-width: var(--ng-doc-sidebar-width);--ng-doc-sidenav-content-padding: var(--ng-doc-page-padding)}:host .ng-doc-root-wrapper footer{margin-top:auto}:host .ng-doc-root-wrapper .ng-doc-header{position:fixed;top:0;height:var(--ng-doc-navbar-height);width:100%;z-index:10}\n"], dependencies: [{ kind: "directive", type: NgDocLetDirective, selector: "[ngDocLet]", inputs: ["ngDocLet"] }, { kind: "component", type: NgDocSidenavComponent, selector: "ng-doc-sidenav", inputs: ["sidebar", "align", "over", "opened", "hasBackdrop"], outputs: ["openedChange", "closeEvent", "beforeOpen", "beforeClose", "afterOpen", "afterClose"] }, { kind: "directive", type: NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: PolymorpheusModule }, { kind: "directive", type: i2.PolymorpheusOutletDirective, selector: "[polymorpheusOutlet]", inputs: ["polymorpheusOutlet", "polymorpheusOutletContext"] }, { kind: "pipe", type: AsyncPipe, name: "async" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
};
NgDocRootComponent = __decorate([
    UntilDestroy(),
    __metadata("design:paramtypes", [NgDocSidebarService])
], NgDocRootComponent);
export { NgDocRootComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocRootComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ng-doc-root', providers: [], changeDetection: ChangeDetectionStrategy.OnPush, standalone: true, imports: [NgDocLetDirective, NgDocSidenavComponent, NgIf, PolymorpheusModule, AsyncPipe], template: "<ng-container *ngDocLet=\"!!(sidebarService.isMobileMode() | async) as isMobileMode\">\n\t<div class=\"ng-doc-root-wrapper\" [class.collapsable]=\"isMobileMode\">\n\t\t<div class=\"ng-doc-header\">\n\t\t\t<ng-content select=\"ng-doc-navbar\"></ng-content>\n\t\t\t<ng-content select=\"[ngDocCustomNavbar]\"></ng-content>\n\t\t</div>\n\t\t<main *ngDocLet=\"sidebar && !!(sidebarService.isExpanded() | async) as opened\">\n\t\t\t<ng-doc-sidenav\n\t\t\t\t*ngDocLet=\"sidenavState$ | async as sidenavState\"\n\t\t\t\t[sidebar]=\"sidebarContent\"\n\t\t\t\t[opened]=\"opened\"\n\t\t\t\t[over]=\"sidenavState?.over ?? false\"\n\t\t\t\t[align]=\"sidenavState?.align ?? 'left'\"\n\t\t\t\t[hasBackdrop]=\"sidenavState?.hasBackdrop ?? false\"\n\t\t\t\t(closeEvent)=\"sidebarService.hide()\">\n\t\t\t\t<ng-template #sidebarContent>\n\t\t\t\t\t<ng-content select=\"ng-doc-sidebar\"></ng-content>\n\t\t\t\t\t<ng-content select=\"[ngDocCustomSidebar]\"></ng-content>\n\t\t\t\t</ng-template>\n\n\t\t\t\t<ng-content></ng-content>\n\t\t\t</ng-doc-sidenav>\n\t\t</main>\n\t\t<footer *ngIf=\"footerContent\">\n\t\t\t<ng-container *polymorpheusOutlet=\"footerContent as text\"> {{ text }} </ng-container>\n\t\t</footer>\n\t</div>\n</ng-container>\n", styles: [":host[data-ng-doc-no-width-limit=true] .ng-doc-root-wrapper main{max-width:none}:host .ng-doc-root-wrapper{display:flex;flex-direction:column;height:100%}:host .ng-doc-root-wrapper main{display:flex;width:100%;margin-left:auto;margin-right:auto;max-width:var(--ng-doc-app-max-width);padding:var(--ng-doc-main-padding);--ng-doc-sidenav-top: var(--ng-doc-navbar-height);--ng-doc-sidenav-width: var(--ng-doc-sidebar-width);--ng-doc-sidenav-content-padding: var(--ng-doc-page-padding)}:host .ng-doc-root-wrapper footer{margin-top:auto}:host .ng-doc-root-wrapper .ng-doc-header{position:fixed;top:0;height:var(--ng-doc-navbar-height);width:100%;z-index:10}\n"] }]
        }], ctorParameters: () => [{ type: i1.NgDocSidebarService }], propDecorators: { sidebar: [{
                type: Input
            }], footerContent: [{
                type: Input
            }], noWidthLimit: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['attr.data-ng-doc-no-width-limit']
            }], sidenav: [{
                type: ViewChild,
                args: [NgDocSidenavComponent]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9vdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FwcC9jb21wb25lbnRzL3Jvb3Qvcm9vdC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FwcC9jb21wb25lbnRzL3Jvb3Qvcm9vdC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNsRCxPQUFPLEVBRU4sdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxTQUFTLEVBQ1QsV0FBVyxFQUNYLEtBQUssRUFDTCxTQUFTLEdBQ1QsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDbkUsT0FBTyxFQUdOLGlCQUFpQixFQUNqQixxQkFBcUIsR0FDckIsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDckQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDOUQsT0FBTyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFjLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNuRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7O0FBRXRFOzs7Ozs7Ozs7Ozs7R0FZRztBQUtILE1BQU0sT0FBTywwQkFBMEI7OEdBQTFCLDBCQUEwQjtrR0FBMUIsMEJBQTBCOzsyRkFBMUIsMEJBQTBCO2tCQUp0QyxTQUFTO21CQUFDO29CQUNWLFFBQVEsRUFBRSxxQkFBcUI7b0JBQy9CLFVBQVUsRUFBRSxJQUFJO2lCQUNoQjs7QUFHRDs7Ozs7Ozs7Ozs7O0dBWUc7QUFLSCxNQUFNLE9BQU8sMkJBQTJCOzhHQUEzQiwyQkFBMkI7a0dBQTNCLDJCQUEyQjs7MkZBQTNCLDJCQUEyQjtrQkFKdkMsU0FBUzttQkFBQztvQkFDVixRQUFRLEVBQUUsc0JBQXNCO29CQUNoQyxVQUFVLEVBQUUsSUFBSTtpQkFDaEI7O0FBYU0sSUFBTSxrQkFBa0IsR0FBeEIsTUFBTSxrQkFBa0I7SUErQjlCLFlBQStCLGNBQW1DO1FBQW5DLG1CQUFjLEdBQWQsY0FBYyxDQUFxQjtRQTlCbEU7OztXQUdHO1FBRUgsWUFBTyxHQUFZLElBQUksQ0FBQztRQUV4Qjs7V0FFRztRQUVILGtCQUFhLEdBQWlCLEVBQUUsQ0FBQztRQUVqQzs7O1dBR0c7UUFHSCxpQkFBWSxHQUFZLEtBQUssQ0FBQztRQUtwQixrQkFBYSxHQUlsQixLQUFLLENBQUM7SUFFMEQsQ0FBQztJQUV0RSxlQUFlO1FBQ2QsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7WUFDbEMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLEVBQUU7WUFDbEMsSUFBSSxDQUFDLE9BQU87Z0JBQ1gsQ0FBQyxDQUFDLEtBQUssQ0FDTCxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQ3pDLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FDekMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUMxQixDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztTQUNYLENBQUMsQ0FBQyxJQUFJLENBQ04sTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFxQixFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQ3BGLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFxQixFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3hDLElBQUksRUFBRSxRQUFRO1lBQ2QsS0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBeUI7WUFDNUQsV0FBVyxFQUFFLFFBQVE7U0FDckIsQ0FBQyxDQUFDLEVBQ0gsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUNSLENBQUM7SUFDSCxDQUFDOzhHQW5EVyxrQkFBa0I7a0dBQWxCLGtCQUFrQiwwT0FObkIsRUFBRSxtRUE0QkYscUJBQXFCLGdEQzVGakMsNHNDQTRCQSx1c0JEdUNXLGlCQUFpQiw2RUFBRSxxQkFBcUIsMk5BQUUsSUFBSSw0RkFBRSxrQkFBa0Isc0xBQUUsU0FBUzs7QUFHM0Usa0JBQWtCO0lBRDlCLFlBQVksRUFBRTtxQ0FnQ2lDLG1CQUFtQjtHQS9CdEQsa0JBQWtCLENBb0Q5Qjs7MkZBcERZLGtCQUFrQjtrQkFWOUIsU0FBUzsrQkFDQyxhQUFhLGFBR1osRUFBRSxtQkFDSSx1QkFBdUIsQ0FBQyxNQUFNLGNBQ25DLElBQUksV0FDUCxDQUFDLGlCQUFpQixFQUFFLHFCQUFxQixFQUFFLElBQUksRUFBRSxrQkFBa0IsRUFBRSxTQUFTLENBQUM7d0ZBU3hGLE9BQU87c0JBRE4sS0FBSztnQkFPTixhQUFhO3NCQURaLEtBQUs7Z0JBU04sWUFBWTtzQkFGWCxLQUFLOztzQkFDTCxXQUFXO3VCQUFDLGlDQUFpQztnQkFJOUMsT0FBTztzQkFETixTQUFTO3VCQUFDLHFCQUFxQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jUGlwZSwgTmdJZiB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1xuXHRBZnRlclZpZXdJbml0LFxuXHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcblx0Q29tcG9uZW50LFxuXHREaXJlY3RpdmUsXG5cdEhvc3RCaW5kaW5nLFxuXHRJbnB1dCxcblx0Vmlld0NoaWxkLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5nRG9jU2lkZWJhclNlcnZpY2UgfSBmcm9tICdAbmctZG9jL2FwcC9zZXJ2aWNlcy9zaWRlYmFyJztcbmltcG9ydCB7XG5cdE5nRG9jQ29udGVudCxcblx0TmdEb2NIb3Jpem9udGFsQWxpZ24sXG5cdE5nRG9jTGV0RGlyZWN0aXZlLFxuXHROZ0RvY1NpZGVuYXZDb21wb25lbnQsXG59IGZyb20gJ0BuZy1kb2MvdWkta2l0JztcbmltcG9ydCB7IFVudGlsRGVzdHJveSB9IGZyb20gJ0BuZ25lYXQvdW50aWwtZGVzdHJveSc7XG5pbXBvcnQgeyBQb2x5bW9ycGhldXNNb2R1bGUgfSBmcm9tICdAdGlua29mZi9uZy1wb2x5bW9ycGhldXMnO1xuaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgbWVyZ2UsIE5FVkVSLCBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZGVsYXksIGZpbHRlciwgbWFwLCBtYXBUbywgc3RhcnRXaXRoIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG4vKipcbiAqIERpcmVjdGl2ZSB1c2VzIGZvciBwcm92aWRpbmcgY3VzdG9tIG5hdmJhciwgeW91IHNob3VsZCBtYXJrIGVsZW1lbnQgd2l0aCB0aGlzIGRpcmVjdGl2ZVxuICogYW5kIHRoZSBgTmdEb2NSb290Q29tcG9uZW50YCB3aWxsIHVzZSBpdCBhcyBhIG5hdmJhclxuICpcbiAqIGBgYGh0bWxcbiAqIDxuZy1kb2Mtcm9vdD5cbiAqICAgICA8bXktY3VzdG9tLW5hdmJhciBuZ0RvY0N1c3RvbU5hdmJhcj48L215LWN1c3RvbS1uYXZiYXI+XG4gKlxuICogICAgIDxuZy1kb2Mtc2lkZWJhcj48L25nLWRvYy1zaWRlYmFyPlxuICogICAgIDxyb3V0ZXItb3V0bGV0Pjwvcm91dGVyLW91dGxldD5cbiAqIDwvbmctZG9jLXJvb3Q+XG4gKiBgYGBcbiAqL1xuQERpcmVjdGl2ZSh7XG5cdHNlbGVjdG9yOiAnW25nRG9jQ3VzdG9tTmF2YmFyXScsXG5cdHN0YW5kYWxvbmU6IHRydWUsXG59KVxuZXhwb3J0IGNsYXNzIE5nRG9jQ3VzdG9tTmF2YmFyRGlyZWN0aXZlIHt9XG5cbi8qKlxuICogRGlyZWN0aXZlIHVzZXMgZm9yIHByb3ZpZGluZyBjdXN0b20gc2lkZWJhciwgeW91IHNob3VsZCBtYXJrIGVsZW1lbnQgd2l0aCB0aGlzIGRpcmVjdGl2ZVxuICogYW5kIHRoZSBgTmdEb2NSb290Q29tcG9uZW50YCB3aWxsIHVzZSBpdCBhcyBhIHNpZGViYXJcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmctZG9jLXJvb3Q+XG4gKiAgICAgPG5nLWRvYy1uYXZiYXI+PC9uZy1kb2Mtc2lkZWJhcj5cbiAqXG4gKiAgICAgPG15LWN1c3RvbS1zaWRlYmFyIG5nRG9jQ3VzdG9tU2lkZWJhcj48L215LWN1c3RvbS1zaWRlYmFyPlxuICogICAgIDxyb3V0ZXItb3V0bGV0Pjwvcm91dGVyLW91dGxldD5cbiAqIDwvbmctZG9jLXJvb3Q+XG4gKiBgYGBcbiAqL1xuQERpcmVjdGl2ZSh7XG5cdHNlbGVjdG9yOiAnW25nRG9jQ3VzdG9tU2lkZWJhcl0nLFxuXHRzdGFuZGFsb25lOiB0cnVlLFxufSlcbmV4cG9ydCBjbGFzcyBOZ0RvY0N1c3RvbVNpZGViYXJEaXJlY3RpdmUge31cblxuQENvbXBvbmVudCh7XG5cdHNlbGVjdG9yOiAnbmctZG9jLXJvb3QnLFxuXHR0ZW1wbGF0ZVVybDogJy4vcm9vdC5jb21wb25lbnQuaHRtbCcsXG5cdHN0eWxlVXJsczogWycuL3Jvb3QuY29tcG9uZW50LnNjc3MnXSxcblx0cHJvdmlkZXJzOiBbXSxcblx0Y2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG5cdHN0YW5kYWxvbmU6IHRydWUsXG5cdGltcG9ydHM6IFtOZ0RvY0xldERpcmVjdGl2ZSwgTmdEb2NTaWRlbmF2Q29tcG9uZW50LCBOZ0lmLCBQb2x5bW9ycGhldXNNb2R1bGUsIEFzeW5jUGlwZV0sXG59KVxuQFVudGlsRGVzdHJveSgpXG5leHBvcnQgY2xhc3MgTmdEb2NSb290Q29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG5cdC8qKlxuXHQgKiBJZiBgdHJ1ZWAgdGhlbiB0aGUgc2lkZWJhciB3aWxsIGJlIHNob3duXG5cdCAqIFlvdSBjYW4gdXNlIGl0IGZvciBleGFtcGxlIGZvciBsYW5kaW5nIHBhZ2UgdG8gaGlkZSBzaWRlYmFyXG5cdCAqL1xuXHRASW5wdXQoKVxuXHRzaWRlYmFyOiBib29sZWFuID0gdHJ1ZTtcblxuXHQvKipcblx0ICogQ29udGVudCBmb3IgZm9vdGVyXG5cdCAqL1xuXHRASW5wdXQoKVxuXHRmb290ZXJDb250ZW50OiBOZ0RvY0NvbnRlbnQgPSAnJztcblxuXHQvKipcblx0ICogSWYgYHRydWVgIHRoZW4gcGFnZSB3aWxsIGJlIHNob3duIHdpdGhvdXQgd2lkdGggbGltaXQuXG5cdCAqIFlvdSBjYW4gdXNlIGl0IGZvciBleGFtcGxlIGZvciBsYW5kaW5nIHBhZ2Vcblx0ICovXG5cdEBJbnB1dCgpXG5cdEBIb3N0QmluZGluZygnYXR0ci5kYXRhLW5nLWRvYy1uby13aWR0aC1saW1pdCcpXG5cdG5vV2lkdGhMaW1pdDogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdEBWaWV3Q2hpbGQoTmdEb2NTaWRlbmF2Q29tcG9uZW50KVxuXHRzaWRlbmF2PzogTmdEb2NTaWRlbmF2Q29tcG9uZW50O1xuXG5cdHByb3RlY3RlZCBzaWRlbmF2U3RhdGUkOiBPYnNlcnZhYmxlPHtcblx0XHRvdmVyOiBib29sZWFuO1xuXHRcdGFsaWduOiBOZ0RvY0hvcml6b250YWxBbGlnbjtcblx0XHRoYXNCYWNrZHJvcDogYm9vbGVhbjtcblx0fT4gPSBORVZFUjtcblxuXHRjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgcmVhZG9ubHkgc2lkZWJhclNlcnZpY2U6IE5nRG9jU2lkZWJhclNlcnZpY2UpIHt9XG5cblx0bmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuXHRcdHRoaXMuc2lkZW5hdlN0YXRlJCA9IGNvbWJpbmVMYXRlc3QoW1xuXHRcdFx0dGhpcy5zaWRlYmFyU2VydmljZS5pc01vYmlsZU1vZGUoKSxcblx0XHRcdHRoaXMuc2lkZW5hdlxuXHRcdFx0XHQ/IG1lcmdlKFxuXHRcdFx0XHRcdFx0dGhpcy5zaWRlbmF2LmJlZm9yZU9wZW4ucGlwZShtYXBUbyh0cnVlKSksXG5cdFx0XHRcdFx0XHR0aGlzLnNpZGVuYXYuYWZ0ZXJDbG9zZS5waXBlKG1hcFRvKGZhbHNlKSksXG5cdFx0XHRcdCAgKS5waXBlKHN0YXJ0V2l0aChmYWxzZSkpXG5cdFx0XHRcdDogb2YodHJ1ZSksXG5cdFx0XSkucGlwZShcblx0XHRcdGZpbHRlcigoW2lzTW9iaWxlLCBvcGVuZWRdOiBbYm9vbGVhbiwgYm9vbGVhbl0pID0+ICFvcGVuZWQgfHwgKG9wZW5lZCAmJiAhaXNNb2JpbGUpKSxcblx0XHRcdG1hcCgoW2lzTW9iaWxlXTogW2Jvb2xlYW4sIGJvb2xlYW5dKSA9PiAoe1xuXHRcdFx0XHRvdmVyOiBpc01vYmlsZSxcblx0XHRcdFx0YWxpZ246IChpc01vYmlsZSA/ICdyaWdodCcgOiAnbGVmdCcpIGFzIE5nRG9jSG9yaXpvbnRhbEFsaWduLFxuXHRcdFx0XHRoYXNCYWNrZHJvcDogaXNNb2JpbGUsXG5cdFx0XHR9KSksXG5cdFx0XHRkZWxheSgwKSxcblx0XHQpO1xuXHR9XG59XG4iLCI8bmctY29udGFpbmVyICpuZ0RvY0xldD1cIiEhKHNpZGViYXJTZXJ2aWNlLmlzTW9iaWxlTW9kZSgpIHwgYXN5bmMpIGFzIGlzTW9iaWxlTW9kZVwiPlxuXHQ8ZGl2IGNsYXNzPVwibmctZG9jLXJvb3Qtd3JhcHBlclwiIFtjbGFzcy5jb2xsYXBzYWJsZV09XCJpc01vYmlsZU1vZGVcIj5cblx0XHQ8ZGl2IGNsYXNzPVwibmctZG9jLWhlYWRlclwiPlxuXHRcdFx0PG5nLWNvbnRlbnQgc2VsZWN0PVwibmctZG9jLW5hdmJhclwiPjwvbmctY29udGVudD5cblx0XHRcdDxuZy1jb250ZW50IHNlbGVjdD1cIltuZ0RvY0N1c3RvbU5hdmJhcl1cIj48L25nLWNvbnRlbnQ+XG5cdFx0PC9kaXY+XG5cdFx0PG1haW4gKm5nRG9jTGV0PVwic2lkZWJhciAmJiAhIShzaWRlYmFyU2VydmljZS5pc0V4cGFuZGVkKCkgfCBhc3luYykgYXMgb3BlbmVkXCI+XG5cdFx0XHQ8bmctZG9jLXNpZGVuYXZcblx0XHRcdFx0Km5nRG9jTGV0PVwic2lkZW5hdlN0YXRlJCB8IGFzeW5jIGFzIHNpZGVuYXZTdGF0ZVwiXG5cdFx0XHRcdFtzaWRlYmFyXT1cInNpZGViYXJDb250ZW50XCJcblx0XHRcdFx0W29wZW5lZF09XCJvcGVuZWRcIlxuXHRcdFx0XHRbb3Zlcl09XCJzaWRlbmF2U3RhdGU/Lm92ZXIgPz8gZmFsc2VcIlxuXHRcdFx0XHRbYWxpZ25dPVwic2lkZW5hdlN0YXRlPy5hbGlnbiA/PyAnbGVmdCdcIlxuXHRcdFx0XHRbaGFzQmFja2Ryb3BdPVwic2lkZW5hdlN0YXRlPy5oYXNCYWNrZHJvcCA/PyBmYWxzZVwiXG5cdFx0XHRcdChjbG9zZUV2ZW50KT1cInNpZGViYXJTZXJ2aWNlLmhpZGUoKVwiPlxuXHRcdFx0XHQ8bmctdGVtcGxhdGUgI3NpZGViYXJDb250ZW50PlxuXHRcdFx0XHRcdDxuZy1jb250ZW50IHNlbGVjdD1cIm5nLWRvYy1zaWRlYmFyXCI+PC9uZy1jb250ZW50PlxuXHRcdFx0XHRcdDxuZy1jb250ZW50IHNlbGVjdD1cIltuZ0RvY0N1c3RvbVNpZGViYXJdXCI+PC9uZy1jb250ZW50PlxuXHRcdFx0XHQ8L25nLXRlbXBsYXRlPlxuXG5cdFx0XHRcdDxuZy1jb250ZW50PjwvbmctY29udGVudD5cblx0XHRcdDwvbmctZG9jLXNpZGVuYXY+XG5cdFx0PC9tYWluPlxuXHRcdDxmb290ZXIgKm5nSWY9XCJmb290ZXJDb250ZW50XCI+XG5cdFx0XHQ8bmctY29udGFpbmVyICpwb2x5bW9ycGhldXNPdXRsZXQ9XCJmb290ZXJDb250ZW50IGFzIHRleHRcIj4ge3sgdGV4dCB9fSA8L25nLWNvbnRhaW5lcj5cblx0XHQ8L2Zvb3Rlcj5cblx0PC9kaXY+XG48L25nLWNvbnRhaW5lcj5cbiJdfQ==