import { __decorate, __metadata } from "tslib";
import { NgIf } from '@angular/common';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, HostBinding, Input, } from '@angular/core';
import { NavigationEnd, Router } from '@angular/router';
import { NgDocRouteActiveDirective } from '@ng-doc/app/directives/route-active';
import { NgDocDotComponent, NgDocExpanderComponent, NgDocIconComponent, NgDocRotatorDirective, NgDocTextComponent, NgDocTextLeftDirective, } from '@ng-doc/ui-kit';
import { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';
import { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';
import { filter, startWith } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@tinkoff/ng-polymorpheus";
let NgDocSidebarCategoryComponent = class NgDocSidebarCategoryComponent {
    constructor(router, changeDetectorRef) {
        this.router = router;
        this.changeDetectorRef = changeDetectorRef;
        this.isRoot = false;
        this.content = '';
        this.expandable = true;
        this.expanded = true;
    }
    ngOnInit() {
        /**
         * We need to update this component every time a navigation occurs to expand the category if its child node is currently rendered
         */
        this.router.events
            .pipe(filter((event) => event instanceof NavigationEnd), startWith(null), filter(() => this.router.url.includes(this.category?.route ?? '', 0)), untilDestroyed(this))
            .subscribe(() => this.expand());
    }
    toggle() {
        this.expanded ? this.collapse() : this.expand();
    }
    expand() {
        if (this.category?.expandable) {
            this.expanded = true;
            this.changeDetectorRef.markForCheck();
        }
    }
    collapse() {
        if (this.category?.expandable) {
            this.expanded = false;
            this.changeDetectorRef.markForCheck();
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocSidebarCategoryComponent, deps: [{ token: i1.Router }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.1.0", type: NgDocSidebarCategoryComponent, isStandalone: true, selector: "ng-doc-sidebar-category", inputs: { category: "category", isRoot: "isRoot", content: "content", expandable: "expandable", expanded: "expanded" }, host: { properties: { "attr.data-ng-doc-is-root": "this.isRoot", "attr.data-ng-doc-expandable": "this.expandable" } }, ngImport: i0, template: "<div class=\"ng-doc-sidebar-category-wrapper\">\n\t<div class=\"ng-doc-sidebar-category-button\" (click)=\"toggle()\">\n\t\t<div\n\t\t\tclass=\"ng-doc-sidebar-category\"\n\t\t\t[ngDocRouteActive]=\"category?.route ?? ''\"\n\t\t\tactiveClass=\"active\">\n\t\t\t<ng-doc-dot *ngIf=\"!expandable\"></ng-doc-dot>\n\t\t\t<span ng-doc-text [color]=\"expandable ? 'normal' : 'muted'\">\n\t\t\t\t<ng-doc-icon\n\t\t\t\t\ticon=\"chevron-right\"\n\t\t\t\t\t*ngIf=\"category?.expandable\"\n\t\t\t\t\t[ngDocRotator]=\"expanded\"\n\t\t\t\t\tngDocTextLeft>\n\t\t\t\t</ng-doc-icon>\n\t\t\t\t{{ category?.title }}\n\t\t\t</span>\n\t\t</div>\n\t\t<!--\t\t<div ng-doc-text color=\"muted\" size=\"small\">Some description</div>-->\n\t</div>\n\t<ng-doc-expander [expanded]=\"expanded\" [content]=\"contentTemplate\">\n\t\t<ng-template #contentTemplate>\n\t\t\t<div class=\"ng-doc-sidebar-category-children\">\n\t\t\t\t<!--We wrap content via ng-template to save state of the child components -->\n\t\t\t\t<ng-content></ng-content>\n\t\t\t\t<ng-container *polymorpheusOutlet=\"content\"></ng-container>\n\t\t\t</div>\n\t\t</ng-template>\n\t</ng-doc-expander>\n</div>\n", styles: [":host{display:flex;flex-direction:column;--ng-doc-sidebar-category-indent: calc( var(--ng-doc-sidebar-item-indent) + calc(var(--ng-doc-base-gutter) * 2) );--ng-doc-icon-color: var(--ng-doc-text)}:host[data-ng-doc-expandable=false] .ng-doc-sidebar-category-button{padding:var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-base-gutter) var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-item-indent)}:host[data-ng-doc-expandable=false] .ng-doc-sidebar-category-button .ng-doc-sidebar-category{--ng-doc-font-weight: 500}:host[data-ng-doc-expandable=true] .ng-doc-sidebar-category-button{padding:var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-base-gutter) var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-item-indent);cursor:pointer;border-radius:var(--ng-doc-base-gutter)}:host[data-ng-doc-expandable=true] .ng-doc-sidebar-category-button:hover{background-color:var(--ng-doc-base-1)}:host .ng-doc-sidebar-category-button{display:flex;flex-direction:column}:host .ng-doc-sidebar-category-button .ng-doc-sidebar-category{display:flex;align-items:center;--ng-doc-dot-background: var(--ng-doc-base-4);--ng-doc-font-weight: 500}:host .ng-doc-sidebar-category-button .ng-doc-sidebar-category ng-doc-dot{margin-right:calc(var(--ng-doc-base-gutter) * 2)}:host .ng-doc-sidebar-category-button .ng-doc-sidebar-category.active{--ng-doc-font-weight: 600;--ng-doc-dot-background: var(--ng-doc-primary)}:host .ng-doc-sidebar-category-button span[ng-doc-text]{flex-shrink:0;margin-right:var(--ng-doc-base-gutter)}:host .ng-doc-sidebar-category-children{padding-bottom:calc(var(--ng-doc-base-gutter) * 2);--ng-doc-sidebar-item-indent: var(--ng-doc-sidebar-category-indent)}\n"], dependencies: [{ kind: "directive", type: NgDocRouteActiveDirective, selector: "[ngDocRouteActive]", inputs: ["ngDocRouteActive", "activeClass", "matchOptions"] }, { kind: "directive", type: NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: NgDocDotComponent, selector: "ng-doc-dot", inputs: ["color", "size"] }, { kind: "component", type: NgDocTextComponent, selector: "[ng-doc-text]", inputs: ["size", "color", "align", "absoluteContent"] }, { kind: "component", type: NgDocIconComponent, selector: "ng-doc-icon", inputs: ["icon", "customIcon", "size"] }, { kind: "directive", type: NgDocTextLeftDirective, selector: "[ngDocTextLeft]" }, { kind: "directive", type: NgDocRotatorDirective, selector: "[ngDocRotator]", inputs: ["ngDocRotator", "from", "to"] }, { kind: "component", type: NgDocExpanderComponent, selector: "ng-doc-expander", inputs: ["expanded", "content", "from"] }, { kind: "ngmodule", type: PolymorpheusModule }, { kind: "directive", type: i2.PolymorpheusOutletDirective, selector: "[polymorpheusOutlet]", inputs: ["polymorpheusOutlet", "polymorpheusOutletContext"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
};
NgDocSidebarCategoryComponent = __decorate([
    UntilDestroy(),
    __metadata("design:paramtypes", [Router,
        ChangeDetectorRef])
], NgDocSidebarCategoryComponent);
export { NgDocSidebarCategoryComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocSidebarCategoryComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ng-doc-sidebar-category', changeDetection: ChangeDetectionStrategy.OnPush, standalone: true, imports: [
                        NgDocRouteActiveDirective,
                        NgIf,
                        NgDocDotComponent,
                        NgDocTextComponent,
                        NgDocIconComponent,
                        NgDocTextLeftDirective,
                        NgDocRotatorDirective,
                        NgDocExpanderComponent,
                        PolymorpheusModule,
                    ], template: "<div class=\"ng-doc-sidebar-category-wrapper\">\n\t<div class=\"ng-doc-sidebar-category-button\" (click)=\"toggle()\">\n\t\t<div\n\t\t\tclass=\"ng-doc-sidebar-category\"\n\t\t\t[ngDocRouteActive]=\"category?.route ?? ''\"\n\t\t\tactiveClass=\"active\">\n\t\t\t<ng-doc-dot *ngIf=\"!expandable\"></ng-doc-dot>\n\t\t\t<span ng-doc-text [color]=\"expandable ? 'normal' : 'muted'\">\n\t\t\t\t<ng-doc-icon\n\t\t\t\t\ticon=\"chevron-right\"\n\t\t\t\t\t*ngIf=\"category?.expandable\"\n\t\t\t\t\t[ngDocRotator]=\"expanded\"\n\t\t\t\t\tngDocTextLeft>\n\t\t\t\t</ng-doc-icon>\n\t\t\t\t{{ category?.title }}\n\t\t\t</span>\n\t\t</div>\n\t\t<!--\t\t<div ng-doc-text color=\"muted\" size=\"small\">Some description</div>-->\n\t</div>\n\t<ng-doc-expander [expanded]=\"expanded\" [content]=\"contentTemplate\">\n\t\t<ng-template #contentTemplate>\n\t\t\t<div class=\"ng-doc-sidebar-category-children\">\n\t\t\t\t<!--We wrap content via ng-template to save state of the child components -->\n\t\t\t\t<ng-content></ng-content>\n\t\t\t\t<ng-container *polymorpheusOutlet=\"content\"></ng-container>\n\t\t\t</div>\n\t\t</ng-template>\n\t</ng-doc-expander>\n</div>\n", styles: [":host{display:flex;flex-direction:column;--ng-doc-sidebar-category-indent: calc( var(--ng-doc-sidebar-item-indent) + calc(var(--ng-doc-base-gutter) * 2) );--ng-doc-icon-color: var(--ng-doc-text)}:host[data-ng-doc-expandable=false] .ng-doc-sidebar-category-button{padding:var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-base-gutter) var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-item-indent)}:host[data-ng-doc-expandable=false] .ng-doc-sidebar-category-button .ng-doc-sidebar-category{--ng-doc-font-weight: 500}:host[data-ng-doc-expandable=true] .ng-doc-sidebar-category-button{padding:var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-base-gutter) var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-item-indent);cursor:pointer;border-radius:var(--ng-doc-base-gutter)}:host[data-ng-doc-expandable=true] .ng-doc-sidebar-category-button:hover{background-color:var(--ng-doc-base-1)}:host .ng-doc-sidebar-category-button{display:flex;flex-direction:column}:host .ng-doc-sidebar-category-button .ng-doc-sidebar-category{display:flex;align-items:center;--ng-doc-dot-background: var(--ng-doc-base-4);--ng-doc-font-weight: 500}:host .ng-doc-sidebar-category-button .ng-doc-sidebar-category ng-doc-dot{margin-right:calc(var(--ng-doc-base-gutter) * 2)}:host .ng-doc-sidebar-category-button .ng-doc-sidebar-category.active{--ng-doc-font-weight: 600;--ng-doc-dot-background: var(--ng-doc-primary)}:host .ng-doc-sidebar-category-button span[ng-doc-text]{flex-shrink:0;margin-right:var(--ng-doc-base-gutter)}:host .ng-doc-sidebar-category-children{padding-bottom:calc(var(--ng-doc-base-gutter) * 2);--ng-doc-sidebar-item-indent: var(--ng-doc-sidebar-category-indent)}\n"] }]
        }], ctorParameters: () => [{ type: i1.Router }, { type: i0.ChangeDetectorRef }], propDecorators: { category: [{
                type: Input
            }], isRoot: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['attr.data-ng-doc-is-root']
            }], content: [{
                type: Input
            }], expandable: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['attr.data-ng-doc-expandable']
            }], expanded: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lkZWJhci1jYXRlZ29yeS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FwcC9jb21wb25lbnRzL3NpZGViYXIvc2lkZWJhci1jYXRlZ29yeS9zaWRlYmFyLWNhdGVnb3J5LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci9zaWRlYmFyLWNhdGVnb3J5L3NpZGViYXItY2F0ZWdvcnkuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN2QyxPQUFPLEVBQ04sdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsV0FBVyxFQUNYLEtBQUssR0FFTCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQVMsYUFBYSxFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9ELE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBRWhGLE9BQU8sRUFDTixpQkFBaUIsRUFDakIsc0JBQXNCLEVBQ3RCLGtCQUFrQixFQUNsQixxQkFBcUIsRUFDckIsa0JBQWtCLEVBQ2xCLHNCQUFzQixHQUN0QixNQUFNLGdCQUFnQixDQUFDO0FBRXhCLE9BQU8sRUFBRSxZQUFZLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDckUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDOUQsT0FBTyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7OztBQXFCNUMsSUFBTSw2QkFBNkIsR0FBbkMsTUFBTSw2QkFBNkI7SUFrQnpDLFlBQ2tCLE1BQWMsRUFDZCxpQkFBb0M7UUFEcEMsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBbUI7UUFkdEQsV0FBTSxHQUFZLEtBQUssQ0FBQztRQUd4QixZQUFPLEdBQWlCLEVBQUUsQ0FBQztRQUkzQixlQUFVLEdBQVksSUFBSSxDQUFDO1FBRzNCLGFBQVEsR0FBWSxJQUFJLENBQUM7SUFLdEIsQ0FBQztJQUVKLFFBQVE7UUFDUDs7V0FFRztRQUNILElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTTthQUNoQixJQUFJLENBQ0osTUFBTSxDQUFDLENBQUMsS0FBWSxFQUFFLEVBQUUsQ0FBQyxLQUFLLFlBQVksYUFBYSxDQUFDLEVBQ3hELFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFDZixNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUNyRSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQ3BCO2FBQ0EsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxNQUFNO1FBQ0wsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDakQsQ0FBQztJQUVELE1BQU07UUFDTCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsVUFBVSxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFDckIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3ZDLENBQUM7SUFDRixDQUFDO0lBRUQsUUFBUTtRQUNQLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsQ0FBQztZQUMvQixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDdkMsQ0FBQztJQUNGLENBQUM7OEdBckRXLDZCQUE2QjtrR0FBN0IsNkJBQTZCLGtVQzVDMUMsMm5DQTZCQSx5c0RER0UseUJBQXlCLDRIQUN6QixJQUFJLDZGQUNKLGlCQUFpQixrRkFDakIsa0JBQWtCLGlIQUNsQixrQkFBa0IsZ0dBQ2xCLHNCQUFzQiw0REFDdEIscUJBQXFCLG1HQUNyQixzQkFBc0Isb0dBQ3RCLGtCQUFrQjs7QUFJUCw2QkFBNkI7SUFEekMsWUFBWSxFQUFFO3FDQW9CWSxNQUFNO1FBQ0ssaUJBQWlCO0dBcEIxQyw2QkFBNkIsQ0FzRHpDOzsyRkF0RFksNkJBQTZCO2tCQW5CekMsU0FBUzsrQkFDQyx5QkFBeUIsbUJBR2xCLHVCQUF1QixDQUFDLE1BQU0sY0FDbkMsSUFBSSxXQUNQO3dCQUNSLHlCQUF5Qjt3QkFDekIsSUFBSTt3QkFDSixpQkFBaUI7d0JBQ2pCLGtCQUFrQjt3QkFDbEIsa0JBQWtCO3dCQUNsQixzQkFBc0I7d0JBQ3RCLHFCQUFxQjt3QkFDckIsc0JBQXNCO3dCQUN0QixrQkFBa0I7cUJBQ2xCOzJHQUtELFFBQVE7c0JBRFAsS0FBSztnQkFLTixNQUFNO3NCQUZMLEtBQUs7O3NCQUNMLFdBQVc7dUJBQUMsMEJBQTBCO2dCQUl2QyxPQUFPO3NCQUROLEtBQUs7Z0JBS04sVUFBVTtzQkFGVCxLQUFLOztzQkFDTCxXQUFXO3VCQUFDLDZCQUE2QjtnQkFJMUMsUUFBUTtzQkFEUCxLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdJZiB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1xuXHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcblx0Q2hhbmdlRGV0ZWN0b3JSZWYsXG5cdENvbXBvbmVudCxcblx0SG9zdEJpbmRpbmcsXG5cdElucHV0LFxuXHRPbkluaXQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRXZlbnQsIE5hdmlnYXRpb25FbmQsIFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBOZ0RvY1JvdXRlQWN0aXZlRGlyZWN0aXZlIH0gZnJvbSAnQG5nLWRvYy9hcHAvZGlyZWN0aXZlcy9yb3V0ZS1hY3RpdmUnO1xuaW1wb3J0IHsgTmdEb2NOYXZpZ2F0aW9uIH0gZnJvbSAnQG5nLWRvYy9hcHAvaW50ZXJmYWNlcyc7XG5pbXBvcnQge1xuXHROZ0RvY0RvdENvbXBvbmVudCxcblx0TmdEb2NFeHBhbmRlckNvbXBvbmVudCxcblx0TmdEb2NJY29uQ29tcG9uZW50LFxuXHROZ0RvY1JvdGF0b3JEaXJlY3RpdmUsXG5cdE5nRG9jVGV4dENvbXBvbmVudCxcblx0TmdEb2NUZXh0TGVmdERpcmVjdGl2ZSxcbn0gZnJvbSAnQG5nLWRvYy91aS1raXQnO1xuaW1wb3J0IHsgTmdEb2NDb250ZW50IH0gZnJvbSAnQG5nLWRvYy91aS1raXQvdHlwZXMnO1xuaW1wb3J0IHsgVW50aWxEZXN0cm95LCB1bnRpbERlc3Ryb3llZCB9IGZyb20gJ0BuZ25lYXQvdW50aWwtZGVzdHJveSc7XG5pbXBvcnQgeyBQb2x5bW9ycGhldXNNb2R1bGUgfSBmcm9tICdAdGlua29mZi9uZy1wb2x5bW9ycGhldXMnO1xuaW1wb3J0IHsgZmlsdGVyLCBzdGFydFdpdGggfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ25nLWRvYy1zaWRlYmFyLWNhdGVnb3J5Jyxcblx0dGVtcGxhdGVVcmw6ICcuL3NpZGViYXItY2F0ZWdvcnkuY29tcG9uZW50Lmh0bWwnLFxuXHRzdHlsZVVybHM6IFsnLi9zaWRlYmFyLWNhdGVnb3J5LmNvbXBvbmVudC5zY3NzJ10sXG5cdGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuXHRzdGFuZGFsb25lOiB0cnVlLFxuXHRpbXBvcnRzOiBbXG5cdFx0TmdEb2NSb3V0ZUFjdGl2ZURpcmVjdGl2ZSxcblx0XHROZ0lmLFxuXHRcdE5nRG9jRG90Q29tcG9uZW50LFxuXHRcdE5nRG9jVGV4dENvbXBvbmVudCxcblx0XHROZ0RvY0ljb25Db21wb25lbnQsXG5cdFx0TmdEb2NUZXh0TGVmdERpcmVjdGl2ZSxcblx0XHROZ0RvY1JvdGF0b3JEaXJlY3RpdmUsXG5cdFx0TmdEb2NFeHBhbmRlckNvbXBvbmVudCxcblx0XHRQb2x5bW9ycGhldXNNb2R1bGUsXG5cdF0sXG59KVxuQFVudGlsRGVzdHJveSgpXG5leHBvcnQgY2xhc3MgTmdEb2NTaWRlYmFyQ2F0ZWdvcnlDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXHRASW5wdXQoKVxuXHRjYXRlZ29yeT86IE5nRG9jTmF2aWdhdGlvbjtcblxuXHRASW5wdXQoKVxuXHRASG9zdEJpbmRpbmcoJ2F0dHIuZGF0YS1uZy1kb2MtaXMtcm9vdCcpXG5cdGlzUm9vdDogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdEBJbnB1dCgpXG5cdGNvbnRlbnQ6IE5nRG9jQ29udGVudCA9ICcnO1xuXG5cdEBJbnB1dCgpXG5cdEBIb3N0QmluZGluZygnYXR0ci5kYXRhLW5nLWRvYy1leHBhbmRhYmxlJylcblx0ZXhwYW5kYWJsZTogYm9vbGVhbiA9IHRydWU7XG5cblx0QElucHV0KClcblx0ZXhwYW5kZWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgcm91dGVyOiBSb3V0ZXIsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBjaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG5cdCkge31cblxuXHRuZ09uSW5pdCgpOiB2b2lkIHtcblx0XHQvKipcblx0XHQgKiBXZSBuZWVkIHRvIHVwZGF0ZSB0aGlzIGNvbXBvbmVudCBldmVyeSB0aW1lIGEgbmF2aWdhdGlvbiBvY2N1cnMgdG8gZXhwYW5kIHRoZSBjYXRlZ29yeSBpZiBpdHMgY2hpbGQgbm9kZSBpcyBjdXJyZW50bHkgcmVuZGVyZWRcblx0XHQgKi9cblx0XHR0aGlzLnJvdXRlci5ldmVudHNcblx0XHRcdC5waXBlKFxuXHRcdFx0XHRmaWx0ZXIoKGV2ZW50OiBFdmVudCkgPT4gZXZlbnQgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uRW5kKSxcblx0XHRcdFx0c3RhcnRXaXRoKG51bGwpLFxuXHRcdFx0XHRmaWx0ZXIoKCkgPT4gdGhpcy5yb3V0ZXIudXJsLmluY2x1ZGVzKHRoaXMuY2F0ZWdvcnk/LnJvdXRlID8/ICcnLCAwKSksXG5cdFx0XHRcdHVudGlsRGVzdHJveWVkKHRoaXMpLFxuXHRcdFx0KVxuXHRcdFx0LnN1YnNjcmliZSgoKSA9PiB0aGlzLmV4cGFuZCgpKTtcblx0fVxuXG5cdHRvZ2dsZSgpOiB2b2lkIHtcblx0XHR0aGlzLmV4cGFuZGVkID8gdGhpcy5jb2xsYXBzZSgpIDogdGhpcy5leHBhbmQoKTtcblx0fVxuXG5cdGV4cGFuZCgpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5jYXRlZ29yeT8uZXhwYW5kYWJsZSkge1xuXHRcdFx0dGhpcy5leHBhbmRlZCA9IHRydWU7XG5cdFx0XHR0aGlzLmNoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuXHRcdH1cblx0fVxuXG5cdGNvbGxhcHNlKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLmNhdGVnb3J5Py5leHBhbmRhYmxlKSB7XG5cdFx0XHR0aGlzLmV4cGFuZGVkID0gZmFsc2U7XG5cdFx0XHR0aGlzLmNoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuXHRcdH1cblx0fVxufVxuIiwiPGRpdiBjbGFzcz1cIm5nLWRvYy1zaWRlYmFyLWNhdGVnb3J5LXdyYXBwZXJcIj5cblx0PGRpdiBjbGFzcz1cIm5nLWRvYy1zaWRlYmFyLWNhdGVnb3J5LWJ1dHRvblwiIChjbGljayk9XCJ0b2dnbGUoKVwiPlxuXHRcdDxkaXZcblx0XHRcdGNsYXNzPVwibmctZG9jLXNpZGViYXItY2F0ZWdvcnlcIlxuXHRcdFx0W25nRG9jUm91dGVBY3RpdmVdPVwiY2F0ZWdvcnk/LnJvdXRlID8/ICcnXCJcblx0XHRcdGFjdGl2ZUNsYXNzPVwiYWN0aXZlXCI+XG5cdFx0XHQ8bmctZG9jLWRvdCAqbmdJZj1cIiFleHBhbmRhYmxlXCI+PC9uZy1kb2MtZG90PlxuXHRcdFx0PHNwYW4gbmctZG9jLXRleHQgW2NvbG9yXT1cImV4cGFuZGFibGUgPyAnbm9ybWFsJyA6ICdtdXRlZCdcIj5cblx0XHRcdFx0PG5nLWRvYy1pY29uXG5cdFx0XHRcdFx0aWNvbj1cImNoZXZyb24tcmlnaHRcIlxuXHRcdFx0XHRcdCpuZ0lmPVwiY2F0ZWdvcnk/LmV4cGFuZGFibGVcIlxuXHRcdFx0XHRcdFtuZ0RvY1JvdGF0b3JdPVwiZXhwYW5kZWRcIlxuXHRcdFx0XHRcdG5nRG9jVGV4dExlZnQ+XG5cdFx0XHRcdDwvbmctZG9jLWljb24+XG5cdFx0XHRcdHt7IGNhdGVnb3J5Py50aXRsZSB9fVxuXHRcdFx0PC9zcGFuPlxuXHRcdDwvZGl2PlxuXHRcdDwhLS1cdFx0PGRpdiBuZy1kb2MtdGV4dCBjb2xvcj1cIm11dGVkXCIgc2l6ZT1cInNtYWxsXCI+U29tZSBkZXNjcmlwdGlvbjwvZGl2Pi0tPlxuXHQ8L2Rpdj5cblx0PG5nLWRvYy1leHBhbmRlciBbZXhwYW5kZWRdPVwiZXhwYW5kZWRcIiBbY29udGVudF09XCJjb250ZW50VGVtcGxhdGVcIj5cblx0XHQ8bmctdGVtcGxhdGUgI2NvbnRlbnRUZW1wbGF0ZT5cblx0XHRcdDxkaXYgY2xhc3M9XCJuZy1kb2Mtc2lkZWJhci1jYXRlZ29yeS1jaGlsZHJlblwiPlxuXHRcdFx0XHQ8IS0tV2Ugd3JhcCBjb250ZW50IHZpYSBuZy10ZW1wbGF0ZSB0byBzYXZlIHN0YXRlIG9mIHRoZSBjaGlsZCBjb21wb25lbnRzIC0tPlxuXHRcdFx0XHQ8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG5cdFx0XHRcdDxuZy1jb250YWluZXIgKnBvbHltb3JwaGV1c091dGxldD1cImNvbnRlbnRcIj48L25nLWNvbnRhaW5lcj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvbmctdGVtcGxhdGU+XG5cdDwvbmctZG9jLWV4cGFuZGVyPlxuPC9kaXY+XG4iXX0=