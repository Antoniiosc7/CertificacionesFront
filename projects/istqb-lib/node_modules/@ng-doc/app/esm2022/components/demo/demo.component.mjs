import { NgComponentOutlet, NgFor, NgIf, NgTemplateOutlet } from '@angular/common';
import { ChangeDetectionStrategy, Component, HostBinding, Input, } from '@angular/core';
import { NgDocRootPage } from '@ng-doc/app/classes/root-page';
import { NgDocCodeComponent } from '@ng-doc/app/components/code';
import { NgDocDemoDisplayerComponent } from '@ng-doc/app/components/demo-displayer';
import { NgDocFullscreenButtonComponent } from '@ng-doc/app/components/fullscreen-button';
import { asArray } from '@ng-doc/core/helpers/as-array';
import { NgDocExecutePipe, NgDocIconComponent, NgDocTabComponent, NgDocTabGroupComponent, } from '@ng-doc/ui-kit';
import * as i0 from "@angular/core";
import * as i1 from "@ng-doc/app/classes/root-page";
export class NgDocDemoComponent {
    constructor(rootPage) {
        this.rootPage = rootPage;
        this.options = {};
        this.assets = [];
    }
    get classes() {
        return this.options.class ?? '';
    }
    ngOnInit() {
        this.demo = this.getDemo();
        this.assets = this.getAssets();
    }
    getOpenedAssetId(assets) {
        return assets.find((asset) => asset.opened)?.title;
    }
    getDemo() {
        if (this.componentName) {
            return this.rootPage.page?.demos && this.rootPage.page.demos[this.componentName];
        }
        return undefined;
    }
    getAssets() {
        if (this.componentName) {
            return ((this.rootPage.demoAssets && this.rootPage.demoAssets[this.componentName]) ??
                []).filter((asset) => !this.options.tabs?.length || asArray(this.options.tabs).includes(asset.title));
        }
        return [];
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocDemoComponent, deps: [{ token: i1.NgDocRootPage }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.1.0", type: NgDocDemoComponent, isStandalone: true, selector: "ng-doc-demo", inputs: { componentName: "componentName", options: "options" }, host: { properties: { "class": "this.classes" } }, ngImport: i0, template: "<ng-container *ngIf=\"options.container ?? true; else demoTemplate\">\n\t<ng-doc-demo-displayer [codeContent]=\"codeContent\" [expanded]=\"!!options.expanded\">\n\t\t<ng-container *ngTemplateOutlet=\"demoTemplate\"></ng-container>\n\t\t<ng-template #codeContent>\n\t\t\t<ng-container *ngIf=\"assets.length === 1\">\n\t\t\t\t<ng-doc-code *ngFor=\"let asset of assets\" [html]=\"asset.code\"></ng-doc-code>\n\t\t\t</ng-container>\n\n\t\t\t<ng-container *ngIf=\"assets.length > 1\">\n\t\t\t\t<ng-doc-tab-group [openedTab]=\"(getOpenedAssetId | execute : assets) ?? options.defaultTab\">\n\t\t\t\t\t<ng-doc-tab\n\t\t\t\t\t\t*ngFor=\"let asset of assets\"\n\t\t\t\t\t\t[id]=\"asset.title\"\n\t\t\t\t\t\t[label]=\"label\"\n\t\t\t\t\t\t[content]=\"assetContent\">\n\t\t\t\t\t\t<ng-template #label>\n\t\t\t\t\t\t\t<ng-doc-icon [customIcon]=\"asset.icon\" *ngIf=\"asset.icon\"></ng-doc-icon>\n\t\t\t\t\t\t\t{{ asset.title }}\n\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t\t<ng-template #assetContent>\n\t\t\t\t\t\t\t<ng-doc-code [html]=\"asset.code\"></ng-doc-code>\n\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t</ng-doc-tab>\n\t\t\t\t</ng-doc-tab-group>\n\t\t\t</ng-container>\n\t\t</ng-template>\n\t</ng-doc-demo-displayer>\n</ng-container>\n\n<ng-template #demoTemplate>\n\t@if (options.fullscreenRoute) {\n\t<ng-doc-fullscreen-button [route]=\"options.fullscreenRoute!\"></ng-doc-fullscreen-button>\n\t} @else if (demo) {\n\t<ng-container *ngComponentOutlet=\"demo; inputs: options.inputs\"></ng-container>\n\t}\n</ng-template>\n", styles: [":host{display:block;margin:var(--ng-doc-demo-margin);--ng-doc-tab-group-background: var(--ng-doc-code-background);--ng-doc-tab-group-tabs-background: var(--ng-doc-base-2);--ng-doc-tab-group-border-radius: 0;--ng-doc-tab-group-border: none;--ng-doc-code-border-radius: 0;--ng-doc-code-border: none}:host .ng-doc-example{padding:calc(var(--ng-doc-base-gutter) * 3)}:host ng-doc-icon{margin-right:calc(var(--ng-doc-base-gutter) / 2)}:host ng-doc-tab-group{border-top:1px solid var(--ng-doc-border-color)}\n"], dependencies: [{ kind: "directive", type: NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: NgDocDemoDisplayerComponent, selector: "ng-doc-demo-displayer", inputs: ["codeContent", "code", "language", "container", "border", "expanded"] }, { kind: "directive", type: NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: NgFor, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "component", type: NgDocCodeComponent, selector: "ng-doc-code", inputs: ["html", "copyButton", "name", "icon", "lineNumbers"] }, { kind: "component", type: NgDocTabGroupComponent, selector: "ng-doc-tab-group", inputs: ["openedTab"] }, { kind: "component", type: NgDocTabComponent, selector: "ng-doc-tab", inputs: ["label", "id", "content"] }, { kind: "component", type: NgDocIconComponent, selector: "ng-doc-icon", inputs: ["icon", "customIcon", "size"] }, { kind: "pipe", type: NgDocExecutePipe, name: "execute" }, { kind: "component", type: NgDocFullscreenButtonComponent, selector: "ng-doc-fullscreen-button", inputs: ["route"] }, { kind: "directive", type: NgComponentOutlet, selector: "[ngComponentOutlet]", inputs: ["ngComponentOutlet", "ngComponentOutletInputs", "ngComponentOutletInjector", "ngComponentOutletContent", "ngComponentOutletNgModule", "ngComponentOutletNgModuleFactory"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocDemoComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ng-doc-demo', changeDetection: ChangeDetectionStrategy.OnPush, standalone: true, imports: [
                        NgIf,
                        NgDocDemoDisplayerComponent,
                        NgTemplateOutlet,
                        NgFor,
                        NgDocCodeComponent,
                        NgDocTabGroupComponent,
                        NgDocTabComponent,
                        NgDocIconComponent,
                        NgDocExecutePipe,
                        NgDocFullscreenButtonComponent,
                        NgComponentOutlet,
                    ], template: "<ng-container *ngIf=\"options.container ?? true; else demoTemplate\">\n\t<ng-doc-demo-displayer [codeContent]=\"codeContent\" [expanded]=\"!!options.expanded\">\n\t\t<ng-container *ngTemplateOutlet=\"demoTemplate\"></ng-container>\n\t\t<ng-template #codeContent>\n\t\t\t<ng-container *ngIf=\"assets.length === 1\">\n\t\t\t\t<ng-doc-code *ngFor=\"let asset of assets\" [html]=\"asset.code\"></ng-doc-code>\n\t\t\t</ng-container>\n\n\t\t\t<ng-container *ngIf=\"assets.length > 1\">\n\t\t\t\t<ng-doc-tab-group [openedTab]=\"(getOpenedAssetId | execute : assets) ?? options.defaultTab\">\n\t\t\t\t\t<ng-doc-tab\n\t\t\t\t\t\t*ngFor=\"let asset of assets\"\n\t\t\t\t\t\t[id]=\"asset.title\"\n\t\t\t\t\t\t[label]=\"label\"\n\t\t\t\t\t\t[content]=\"assetContent\">\n\t\t\t\t\t\t<ng-template #label>\n\t\t\t\t\t\t\t<ng-doc-icon [customIcon]=\"asset.icon\" *ngIf=\"asset.icon\"></ng-doc-icon>\n\t\t\t\t\t\t\t{{ asset.title }}\n\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t\t<ng-template #assetContent>\n\t\t\t\t\t\t\t<ng-doc-code [html]=\"asset.code\"></ng-doc-code>\n\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t</ng-doc-tab>\n\t\t\t\t</ng-doc-tab-group>\n\t\t\t</ng-container>\n\t\t</ng-template>\n\t</ng-doc-demo-displayer>\n</ng-container>\n\n<ng-template #demoTemplate>\n\t@if (options.fullscreenRoute) {\n\t<ng-doc-fullscreen-button [route]=\"options.fullscreenRoute!\"></ng-doc-fullscreen-button>\n\t} @else if (demo) {\n\t<ng-container *ngComponentOutlet=\"demo; inputs: options.inputs\"></ng-container>\n\t}\n</ng-template>\n", styles: [":host{display:block;margin:var(--ng-doc-demo-margin);--ng-doc-tab-group-background: var(--ng-doc-code-background);--ng-doc-tab-group-tabs-background: var(--ng-doc-base-2);--ng-doc-tab-group-border-radius: 0;--ng-doc-tab-group-border: none;--ng-doc-code-border-radius: 0;--ng-doc-code-border: none}:host .ng-doc-example{padding:calc(var(--ng-doc-base-gutter) * 3)}:host ng-doc-icon{margin-right:calc(var(--ng-doc-base-gutter) / 2)}:host ng-doc-tab-group{border-top:1px solid var(--ng-doc-border-color)}\n"] }]
        }], ctorParameters: () => [{ type: i1.NgDocRootPage }], propDecorators: { componentName: [{
                type: Input
            }], options: [{
                type: Input
            }], classes: [{
                type: HostBinding,
                args: ['class']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVtby5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FwcC9jb21wb25lbnRzL2RlbW8vZGVtby5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FwcC9jb21wb25lbnRzL2RlbW8vZGVtby5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ25GLE9BQU8sRUFDTix1QkFBdUIsRUFDdkIsU0FBUyxFQUNULFdBQVcsRUFDWCxLQUFLLEdBR0wsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQzlELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ2pFLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBQ3BGLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBRTFGLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUV4RCxPQUFPLEVBQ04sZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixpQkFBaUIsRUFDakIsc0JBQXNCLEdBQ3RCLE1BQU0sZ0JBQWdCLENBQUM7OztBQXNCeEIsTUFBTSxPQUFPLGtCQUFrQjtJQVU5QixZQUE2QixRQUF1QjtRQUF2QixhQUFRLEdBQVIsUUFBUSxDQUFlO1FBTHBELFlBQU8sR0FBMkIsRUFBRSxDQUFDO1FBR3JDLFdBQU0sR0FBcUIsRUFBRSxDQUFDO0lBRXlCLENBQUM7SUFFeEQsSUFDYyxPQUFPO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFFRCxRQUFRO1FBQ1AsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVELGdCQUFnQixDQUFDLE1BQXdCO1FBQ3hDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQXFCLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLENBQUM7SUFDcEUsQ0FBQztJQUVPLE9BQU87UUFDZCxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUN4QixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ2xGLENBQUM7UUFFRCxPQUFPLFNBQVMsQ0FBQztJQUNsQixDQUFDO0lBRU8sU0FBUztRQUNoQixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUN4QixPQUFPLENBQ04sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7Z0JBQzFFLEVBQUUsQ0FDRixDQUFDLE1BQU0sQ0FDUCxDQUFDLEtBQXFCLEVBQUUsRUFBRSxDQUN6QixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE1BQU0sSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUMvRSxDQUFDO1FBQ0gsQ0FBQztRQUVELE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQzs4R0E5Q1csa0JBQWtCO2tHQUFsQixrQkFBa0IsMExDM0MvQix3K0NBb0NBLGlqQkRORSxJQUFJLDZGQUNKLDJCQUEyQixrSkFDM0IsZ0JBQWdCLG9KQUNoQixLQUFLLG1IQUNMLGtCQUFrQix1SEFDbEIsc0JBQXNCLG9GQUN0QixpQkFBaUIsMkZBQ2pCLGtCQUFrQiwyRkFDbEIsZ0JBQWdCLGdEQUNoQiw4QkFBOEIsd0ZBQzlCLGlCQUFpQjs7MkZBR04sa0JBQWtCO2tCQXBCOUIsU0FBUzsrQkFDQyxhQUFhLG1CQUdOLHVCQUF1QixDQUFDLE1BQU0sY0FDbkMsSUFBSSxXQUNQO3dCQUNSLElBQUk7d0JBQ0osMkJBQTJCO3dCQUMzQixnQkFBZ0I7d0JBQ2hCLEtBQUs7d0JBQ0wsa0JBQWtCO3dCQUNsQixzQkFBc0I7d0JBQ3RCLGlCQUFpQjt3QkFDakIsa0JBQWtCO3dCQUNsQixnQkFBZ0I7d0JBQ2hCLDhCQUE4Qjt3QkFDOUIsaUJBQWlCO3FCQUNqQjtrRkFJRCxhQUFhO3NCQURaLEtBQUs7Z0JBSU4sT0FBTztzQkFETixLQUFLO2dCQVNRLE9BQU87c0JBRHBCLFdBQVc7dUJBQUMsT0FBTyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nQ29tcG9uZW50T3V0bGV0LCBOZ0ZvciwgTmdJZiwgTmdUZW1wbGF0ZU91dGxldCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1xuXHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcblx0Q29tcG9uZW50LFxuXHRIb3N0QmluZGluZyxcblx0SW5wdXQsXG5cdE9uSW5pdCxcblx0VHlwZSxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZ0RvY1Jvb3RQYWdlIH0gZnJvbSAnQG5nLWRvYy9hcHAvY2xhc3Nlcy9yb290LXBhZ2UnO1xuaW1wb3J0IHsgTmdEb2NDb2RlQ29tcG9uZW50IH0gZnJvbSAnQG5nLWRvYy9hcHAvY29tcG9uZW50cy9jb2RlJztcbmltcG9ydCB7IE5nRG9jRGVtb0Rpc3BsYXllckNvbXBvbmVudCB9IGZyb20gJ0BuZy1kb2MvYXBwL2NvbXBvbmVudHMvZGVtby1kaXNwbGF5ZXInO1xuaW1wb3J0IHsgTmdEb2NGdWxsc2NyZWVuQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnQG5nLWRvYy9hcHAvY29tcG9uZW50cy9mdWxsc2NyZWVuLWJ1dHRvbic7XG5pbXBvcnQgeyBOZ0RvY0RlbW9Bc3NldCB9IGZyb20gJ0BuZy1kb2MvYXBwL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJ0BuZy1kb2MvY29yZS9oZWxwZXJzL2FzLWFycmF5JztcbmltcG9ydCB7IE5nRG9jRGVtb0FjdGlvbk9wdGlvbnMgfSBmcm9tICdAbmctZG9jL2NvcmUvaW50ZXJmYWNlcyc7XG5pbXBvcnQge1xuXHROZ0RvY0V4ZWN1dGVQaXBlLFxuXHROZ0RvY0ljb25Db21wb25lbnQsXG5cdE5nRG9jVGFiQ29tcG9uZW50LFxuXHROZ0RvY1RhYkdyb3VwQ29tcG9uZW50LFxufSBmcm9tICdAbmctZG9jL3VpLWtpdCc7XG5cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ25nLWRvYy1kZW1vJyxcblx0dGVtcGxhdGVVcmw6ICcuL2RlbW8uY29tcG9uZW50Lmh0bWwnLFxuXHRzdHlsZVVybHM6IFsnLi9kZW1vLmNvbXBvbmVudC5zY3NzJ10sXG5cdGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuXHRzdGFuZGFsb25lOiB0cnVlLFxuXHRpbXBvcnRzOiBbXG5cdFx0TmdJZixcblx0XHROZ0RvY0RlbW9EaXNwbGF5ZXJDb21wb25lbnQsXG5cdFx0TmdUZW1wbGF0ZU91dGxldCxcblx0XHROZ0Zvcixcblx0XHROZ0RvY0NvZGVDb21wb25lbnQsXG5cdFx0TmdEb2NUYWJHcm91cENvbXBvbmVudCxcblx0XHROZ0RvY1RhYkNvbXBvbmVudCxcblx0XHROZ0RvY0ljb25Db21wb25lbnQsXG5cdFx0TmdEb2NFeGVjdXRlUGlwZSxcblx0XHROZ0RvY0Z1bGxzY3JlZW5CdXR0b25Db21wb25lbnQsXG5cdFx0TmdDb21wb25lbnRPdXRsZXQsXG5cdF0sXG59KVxuZXhwb3J0IGNsYXNzIE5nRG9jRGVtb0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cdEBJbnB1dCgpXG5cdGNvbXBvbmVudE5hbWU/OiBzdHJpbmc7XG5cblx0QElucHV0KClcblx0b3B0aW9uczogTmdEb2NEZW1vQWN0aW9uT3B0aW9ucyA9IHt9O1xuXG5cdGRlbW8/OiBUeXBlPHVua25vd24+O1xuXHRhc3NldHM6IE5nRG9jRGVtb0Fzc2V0W10gPSBbXTtcblxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHJvb3RQYWdlOiBOZ0RvY1Jvb3RQYWdlKSB7fVxuXG5cdEBIb3N0QmluZGluZygnY2xhc3MnKVxuXHRwcm90ZWN0ZWQgZ2V0IGNsYXNzZXMoKTogc3RyaW5nIHwgc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuY2xhc3MgPz8gJyc7XG5cdH1cblxuXHRuZ09uSW5pdCgpOiB2b2lkIHtcblx0XHR0aGlzLmRlbW8gPSB0aGlzLmdldERlbW8oKTtcblx0XHR0aGlzLmFzc2V0cyA9IHRoaXMuZ2V0QXNzZXRzKCk7XG5cdH1cblxuXHRnZXRPcGVuZWRBc3NldElkKGFzc2V0czogTmdEb2NEZW1vQXNzZXRbXSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG5cdFx0cmV0dXJuIGFzc2V0cy5maW5kKChhc3NldDogTmdEb2NEZW1vQXNzZXQpID0+IGFzc2V0Lm9wZW5lZCk/LnRpdGxlO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXREZW1vKCk6IFR5cGU8dW5rbm93bj4gfCB1bmRlZmluZWQge1xuXHRcdGlmICh0aGlzLmNvbXBvbmVudE5hbWUpIHtcblx0XHRcdHJldHVybiB0aGlzLnJvb3RQYWdlLnBhZ2U/LmRlbW9zICYmIHRoaXMucm9vdFBhZ2UucGFnZS5kZW1vc1t0aGlzLmNvbXBvbmVudE5hbWVdO1xuXHRcdH1cblxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblxuXHRwcml2YXRlIGdldEFzc2V0cygpOiBOZ0RvY0RlbW9Bc3NldFtdIHtcblx0XHRpZiAodGhpcy5jb21wb25lbnROYW1lKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQodGhpcy5yb290UGFnZS5kZW1vQXNzZXRzICYmIHRoaXMucm9vdFBhZ2UuZGVtb0Fzc2V0c1t0aGlzLmNvbXBvbmVudE5hbWVdKSA/P1xuXHRcdFx0XHRbXVxuXHRcdFx0KS5maWx0ZXIoXG5cdFx0XHRcdChhc3NldDogTmdEb2NEZW1vQXNzZXQpID0+XG5cdFx0XHRcdFx0IXRoaXMub3B0aW9ucy50YWJzPy5sZW5ndGggfHwgYXNBcnJheSh0aGlzLm9wdGlvbnMudGFicykuaW5jbHVkZXMoYXNzZXQudGl0bGUpLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gW107XG5cdH1cbn1cbiIsIjxuZy1jb250YWluZXIgKm5nSWY9XCJvcHRpb25zLmNvbnRhaW5lciA/PyB0cnVlOyBlbHNlIGRlbW9UZW1wbGF0ZVwiPlxuXHQ8bmctZG9jLWRlbW8tZGlzcGxheWVyIFtjb2RlQ29udGVudF09XCJjb2RlQ29udGVudFwiIFtleHBhbmRlZF09XCIhIW9wdGlvbnMuZXhwYW5kZWRcIj5cblx0XHQ8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwiZGVtb1RlbXBsYXRlXCI+PC9uZy1jb250YWluZXI+XG5cdFx0PG5nLXRlbXBsYXRlICNjb2RlQ29udGVudD5cblx0XHRcdDxuZy1jb250YWluZXIgKm5nSWY9XCJhc3NldHMubGVuZ3RoID09PSAxXCI+XG5cdFx0XHRcdDxuZy1kb2MtY29kZSAqbmdGb3I9XCJsZXQgYXNzZXQgb2YgYXNzZXRzXCIgW2h0bWxdPVwiYXNzZXQuY29kZVwiPjwvbmctZG9jLWNvZGU+XG5cdFx0XHQ8L25nLWNvbnRhaW5lcj5cblxuXHRcdFx0PG5nLWNvbnRhaW5lciAqbmdJZj1cImFzc2V0cy5sZW5ndGggPiAxXCI+XG5cdFx0XHRcdDxuZy1kb2MtdGFiLWdyb3VwIFtvcGVuZWRUYWJdPVwiKGdldE9wZW5lZEFzc2V0SWQgfCBleGVjdXRlIDogYXNzZXRzKSA/PyBvcHRpb25zLmRlZmF1bHRUYWJcIj5cblx0XHRcdFx0XHQ8bmctZG9jLXRhYlxuXHRcdFx0XHRcdFx0Km5nRm9yPVwibGV0IGFzc2V0IG9mIGFzc2V0c1wiXG5cdFx0XHRcdFx0XHRbaWRdPVwiYXNzZXQudGl0bGVcIlxuXHRcdFx0XHRcdFx0W2xhYmVsXT1cImxhYmVsXCJcblx0XHRcdFx0XHRcdFtjb250ZW50XT1cImFzc2V0Q29udGVudFwiPlxuXHRcdFx0XHRcdFx0PG5nLXRlbXBsYXRlICNsYWJlbD5cblx0XHRcdFx0XHRcdFx0PG5nLWRvYy1pY29uIFtjdXN0b21JY29uXT1cImFzc2V0Lmljb25cIiAqbmdJZj1cImFzc2V0Lmljb25cIj48L25nLWRvYy1pY29uPlxuXHRcdFx0XHRcdFx0XHR7eyBhc3NldC50aXRsZSB9fVxuXHRcdFx0XHRcdFx0PC9uZy10ZW1wbGF0ZT5cblx0XHRcdFx0XHRcdDxuZy10ZW1wbGF0ZSAjYXNzZXRDb250ZW50PlxuXHRcdFx0XHRcdFx0XHQ8bmctZG9jLWNvZGUgW2h0bWxdPVwiYXNzZXQuY29kZVwiPjwvbmctZG9jLWNvZGU+XG5cdFx0XHRcdFx0XHQ8L25nLXRlbXBsYXRlPlxuXHRcdFx0XHRcdDwvbmctZG9jLXRhYj5cblx0XHRcdFx0PC9uZy1kb2MtdGFiLWdyb3VwPlxuXHRcdFx0PC9uZy1jb250YWluZXI+XG5cdFx0PC9uZy10ZW1wbGF0ZT5cblx0PC9uZy1kb2MtZGVtby1kaXNwbGF5ZXI+XG48L25nLWNvbnRhaW5lcj5cblxuPG5nLXRlbXBsYXRlICNkZW1vVGVtcGxhdGU+XG5cdEBpZiAob3B0aW9ucy5mdWxsc2NyZWVuUm91dGUpIHtcblx0PG5nLWRvYy1mdWxsc2NyZWVuLWJ1dHRvbiBbcm91dGVdPVwib3B0aW9ucy5mdWxsc2NyZWVuUm91dGUhXCI+PC9uZy1kb2MtZnVsbHNjcmVlbi1idXR0b24+XG5cdH0gQGVsc2UgaWYgKGRlbW8pIHtcblx0PG5nLWNvbnRhaW5lciAqbmdDb21wb25lbnRPdXRsZXQ9XCJkZW1vOyBpbnB1dHM6IG9wdGlvbnMuaW5wdXRzXCI+PC9uZy1jb250YWluZXI+XG5cdH1cbjwvbmctdGVtcGxhdGU+XG4iXX0=