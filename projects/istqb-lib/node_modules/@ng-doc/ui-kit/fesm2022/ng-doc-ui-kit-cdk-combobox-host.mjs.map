{"version":3,"file":"ng-doc-ui-kit-cdk-combobox-host.mjs","sources":["../../../../libs/ui-kit/cdk/combobox-host/combobox-host.component.ts","../../../../libs/ui-kit/cdk/combobox-host/combobox-host.component.html","../../../../libs/ui-kit/cdk/combobox-host/ng-doc-ui-kit-cdk-combobox-host.ts"],"sourcesContent":["import {\n\tAfterContentInit,\n\tChangeDetectionStrategy,\n\tComponent,\n\tContentChild,\n\tElementRef,\n\tforwardRef,\n\tinject,\n\tInput,\n\tNgZone,\n\tViewChild,\n} from '@angular/core';\nimport {\n\tNgDocBaseInput,\n\tNgDocDisplayValueHost,\n\tNgDocInputHost,\n\tNgDocListHost,\n\tNgDocOverlayHost,\n} from '@ng-doc/ui-kit/classes';\nimport { NgDocDropdownComponent } from '@ng-doc/ui-kit/components/dropdown';\nimport { NgDocDropdownHandlerDirective } from '@ng-doc/ui-kit/directives/dropdown-handler';\nimport { NgDocFocusCatcherDirective } from '@ng-doc/ui-kit/directives/focus-catcher';\nimport { ngDocZoneOptimize } from '@ng-doc/ui-kit/observables';\nimport { NgDocDisplayValueFunction, NgDocOverlayPosition } from '@ng-doc/ui-kit/types';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport {\n\tDI_DEFAULT_COMPARE,\n\tDICompareFunction,\n\tDICompareHost,\n\tDIControl,\n\tDIStateControl,\n\tinjectHostControl,\n\tprovideCompareHost,\n\tprovideHostControl,\n} from 'di-controls';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n\tselector: 'ng-doc-combobox-host',\n\ttemplateUrl: './combobox-host.component.html',\n\tstyleUrls: ['./combobox-host.component.scss'],\n\tproviders: [\n\t\tprovideHostControl(forwardRef(() => NgDocComboboxHostComponent)),\n\t\tprovideCompareHost(forwardRef(() => NgDocComboboxHostComponent)),\n\t\t{\n\t\t\tprovide: NgDocOverlayHost,\n\t\t\tuseExisting: forwardRef(() => NgDocComboboxHostComponent),\n\t\t},\n\t\t{\n\t\t\tprovide: NgDocInputHost,\n\t\t\tuseExisting: forwardRef(() => NgDocComboboxHostComponent),\n\t\t},\n\t\t{\n\t\t\tprovide: NgDocDisplayValueHost,\n\t\t\tuseExisting: forwardRef(() => NgDocComboboxHostComponent),\n\t\t},\n\t\t{\n\t\t\tprovide: NgDocListHost,\n\t\t\tuseExisting: forwardRef(() => NgDocComboboxHostComponent),\n\t\t},\n\t],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tstandalone: true,\n\timports: [NgDocFocusCatcherDirective, NgDocDropdownHandlerDirective],\n})\n@UntilDestroy()\nexport class NgDocComboboxHostComponent<T>\n\textends DIControl<T>\n\timplements\n\t\tNgDocOverlayHost,\n\t\tNgDocInputHost<string>,\n\t\tDICompareHost<T>,\n\t\tNgDocDisplayValueHost<T>,\n\t\tNgDocListHost,\n\t\tAfterContentInit\n{\n\t@Input()\n\tcompareFn: DICompareFunction<T> = DI_DEFAULT_COMPARE;\n\n\t@Input()\n\tdisplayValueFn: NgDocDisplayValueFunction<T> = String;\n\n\t@ViewChild('origin', { read: ElementRef, static: true })\n\torigin?: ElementRef<HTMLElement>;\n\n\t@ContentChild(NgDocDropdownComponent)\n\tdropdown?: NgDocDropdownComponent;\n\n\t@ContentChild(NgDocBaseInput)\n\tinputControl?: NgDocBaseInput<string>;\n\n\treadonly positions: NgDocOverlayPosition[] = ['bottom-center', 'top-center'];\n\n\tprotected readonly ngZone: NgZone = inject(NgZone);\n\n\tconstructor() {\n\t\tsuper({\n\t\t\thost: injectHostControl({ skipSelf: true, optional: true }),\n\t\t\tonChildControlChange: (control) => {\n\t\t\t\tif (control instanceof DIStateControl) {\n\t\t\t\t\tthis.dropdown?.close();\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tngAfterContentInit(): void {\n\t\tthis.inputControl?.changes\n\t\t\t.pipe(\n\t\t\t\tfilter(() => !!this.inputControl?.isFocused),\n\t\t\t\tuntilDestroyed(this),\n\t\t\t\tngDocZoneOptimize(this.ngZone),\n\t\t\t)\n\t\t\t.subscribe(() => this.dropdown?.open());\n\t}\n\n\tget listHostOrigin(): ElementRef<HTMLElement> | undefined {\n\t\treturn this.inputControl?.elementRef;\n\t}\n\n\tget searchText(): string {\n\t\treturn this.hasValue ? '' : this.inputControl?.value || '';\n\t}\n\n\tget width(): number {\n\t\treturn this.origin?.nativeElement.offsetWidth || 0;\n\t}\n\n\tget panelClass(): string {\n\t\treturn `ng-doc-combobox-host-overlay`;\n\t}\n\n\tclickEvent(): void {\n\t\tif (!this.disabled) {\n\t\t\tthis.dropdown?.open();\n\t\t}\n\t}\n}\n","<label\n\tclass=\"ng-doc-dropdown-host\"\n\tngDocFocusCatcher\n\t[ngDocDropdownHandler]=\"dropdown\"\n\t(click)=\"clickEvent()\"\n\t#origin>\n\t<ng-content></ng-content>\n</label>\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;;;;;AAkEO,IAAM,0BAA0B,GAAhC,MAAM,0BACZ,SAAQ,SAAY,CAAA;AA4BpB,IAAA,WAAA,GAAA;AACC,QAAA,KAAK,CAAC;AACL,YAAA,IAAI,EAAE,iBAAiB,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;AAC3D,YAAA,oBAAoB,EAAE,CAAC,OAAO,KAAI;AACjC,gBAAA,IAAI,OAAO,YAAY,cAAc,EAAE;AACtC,oBAAA,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC;iBACvB;aACD;AACD,SAAA,CAAC,CAAC;QA1BJ,IAAS,CAAA,SAAA,GAAyB,kBAAkB,CAAC;QAGrD,IAAc,CAAA,cAAA,GAAiC,MAAM,CAAC;AAW7C,QAAA,IAAA,CAAA,SAAS,GAA2B,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;AAE1D,QAAA,IAAA,CAAA,MAAM,GAAW,MAAM,CAAC,MAAM,CAAC,CAAC;KAWlD;IAED,kBAAkB,GAAA;QACjB,IAAI,CAAC,YAAY,EAAE,OAAO;aACxB,IAAI,CACJ,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,SAAS,CAAC,EAC5C,cAAc,CAAC,IAAI,CAAC,EACpB,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAC9B;aACA,SAAS,CAAC,MAAM,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;KACzC;AAED,IAAA,IAAI,cAAc,GAAA;AACjB,QAAA,OAAO,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC;KACrC;AAED,IAAA,IAAI,UAAU,GAAA;AACb,QAAA,OAAO,IAAI,CAAC,QAAQ,GAAG,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,KAAK,IAAI,EAAE,CAAC;KAC3D;AAED,IAAA,IAAI,KAAK,GAAA;QACR,OAAO,IAAI,CAAC,MAAM,EAAE,aAAa,CAAC,WAAW,IAAI,CAAC,CAAC;KACnD;AAED,IAAA,IAAI,UAAU,GAAA;AACb,QAAA,OAAO,8BAA8B,CAAC;KACtC;IAED,UAAU,GAAA;AACT,QAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;AACnB,YAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC;SACtB;KACD;8GAtEW,0BAA0B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;AAA1B,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,0BAA0B,EAzB3B,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,sBAAA,EAAA,MAAA,EAAA,EAAA,SAAA,EAAA,WAAA,EAAA,cAAA,EAAA,gBAAA,EAAA,EAAA,SAAA,EAAA;YACV,kBAAkB,CAAC,UAAU,CAAC,MAAM,0BAA0B,CAAC,CAAC;YAChE,kBAAkB,CAAC,UAAU,CAAC,MAAM,0BAA0B,CAAC,CAAC;AAChE,YAAA;AACC,gBAAA,OAAO,EAAE,gBAAgB;AACzB,gBAAA,WAAW,EAAE,UAAU,CAAC,MAAM,0BAA0B,CAAC;AACzD,aAAA;AACD,YAAA;AACC,gBAAA,OAAO,EAAE,cAAc;AACvB,gBAAA,WAAW,EAAE,UAAU,CAAC,MAAM,0BAA0B,CAAC;AACzD,aAAA;AACD,YAAA;AACC,gBAAA,OAAO,EAAE,qBAAqB;AAC9B,gBAAA,WAAW,EAAE,UAAU,CAAC,MAAM,0BAA0B,CAAC;AACzD,aAAA;AACD,YAAA;AACC,gBAAA,OAAO,EAAE,aAAa;AACtB,gBAAA,WAAW,EAAE,UAAU,CAAC,MAAM,0BAA0B,CAAC;AACzD,aAAA;SACD,EAyBa,OAAA,EAAA,CAAA,EAAA,YAAA,EAAA,UAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAAA,sBAAsB,EAGtB,WAAA,EAAA,IAAA,EAAA,EAAA,EAAA,YAAA,EAAA,cAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAAA,cAAc,EANC,WAAA,EAAA,IAAA,EAAA,CAAA,EAAA,WAAA,EAAA,CAAA,EAAA,YAAA,EAAA,QAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAAA,CAAA,QAAA,CAAA,EAAA,WAAA,EAAA,IAAA,EAAA,IAAA,EAAA,UAAU,kEClFxC,uLAQA,EAAA,MAAA,EAAA,CAAA,kKAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EDuDW,0BAA0B,EAAA,QAAA,EAAA,qBAAA,EAAA,OAAA,EAAA,CAAA,YAAA,EAAA,WAAA,CAAA,EAAA,QAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAE,6BAA6B,EAAA,QAAA,EAAA,wBAAA,EAAA,MAAA,EAAA,CAAA,sBAAA,CAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA,EAAA;;AAGvD,0BAA0B,GAAA,UAAA,CAAA;AADtC,IAAA,YAAY,EAAE;;AACF,CAAA,EAAA,0BAA0B,CAuEtC,CAAA;2FAvEY,0BAA0B,EAAA,UAAA,EAAA,CAAA;kBA7BtC,SAAS;AACC,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,sBAAsB,EAGrB,SAAA,EAAA;AACV,wBAAA,kBAAkB,CAAC,UAAU,CAAC,MAAK,0BAA2B,CAAC,CAAC;AAChE,wBAAA,kBAAkB,CAAC,UAAU,CAAC,MAAK,0BAA2B,CAAC,CAAC;AAChE,wBAAA;AACC,4BAAA,OAAO,EAAE,gBAAgB;AACzB,4BAAA,WAAW,EAAE,UAAU,CAAC,gCAAgC,CAAC;AACzD,yBAAA;AACD,wBAAA;AACC,4BAAA,OAAO,EAAE,cAAc;AACvB,4BAAA,WAAW,EAAE,UAAU,CAAC,gCAAgC,CAAC;AACzD,yBAAA;AACD,wBAAA;AACC,4BAAA,OAAO,EAAE,qBAAqB;AAC9B,4BAAA,WAAW,EAAE,UAAU,CAAC,gCAAgC,CAAC;AACzD,yBAAA;AACD,wBAAA;AACC,4BAAA,OAAO,EAAE,aAAa;AACtB,4BAAA,WAAW,EAAE,UAAU,CAAC,gCAAgC,CAAC;AACzD,yBAAA;qBACD,EACgB,eAAA,EAAA,uBAAuB,CAAC,MAAM,EACnC,UAAA,EAAA,IAAI,WACP,CAAC,0BAA0B,EAAE,6BAA6B,CAAC,EAAA,QAAA,EAAA,uLAAA,EAAA,MAAA,EAAA,CAAA,kKAAA,CAAA,EAAA,CAAA;wDAcpE,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,SAAS;uBAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE,CAAA;gBAIvD,QAAQ,EAAA,CAAA;sBADP,YAAY;uBAAC,sBAAsB,CAAA;gBAIpC,YAAY,EAAA,CAAA;sBADX,YAAY;uBAAC,cAAc,CAAA;;;AExF7B;;AAEG;;;;"}