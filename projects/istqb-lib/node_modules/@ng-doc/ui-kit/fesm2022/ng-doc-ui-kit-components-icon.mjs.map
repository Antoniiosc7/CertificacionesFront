{"version":3,"file":"ng-doc-ui-kit-components-icon.mjs","sources":["../../../../libs/ui-kit/components/icon/icon.component.ts","../../../../libs/ui-kit/components/icon/ng-doc-ui-kit-components-icon.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport {\n\tChangeDetectionStrategy,\n\tComponent,\n\tElementRef,\n\tHostBinding,\n\tinject,\n\tInput,\n\tOnChanges,\n\tOnInit,\n} from '@angular/core';\nimport { NgDocCacheInterceptor } from '@ng-doc/ui-kit/interceptors';\nimport { NG_DOC_ASSETS_PATH, NG_DOC_CUSTOM_ICONS_PATH } from '@ng-doc/ui-kit/tokens';\nimport { NgDocIconSize } from '@ng-doc/ui-kit/types';\nimport { of, Subject } from 'rxjs';\nimport { catchError, startWith, switchMap } from 'rxjs/operators';\n\n@Component({\n\tselector: 'ng-doc-icon',\n\ttemplate: '',\n\tstyleUrls: ['./icon.component.scss'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tstandalone: true,\n})\nexport class NgDocIconComponent implements OnChanges, OnInit {\n\t/** Icon name */\n\t@Input()\n\t@HostBinding('attr.data-ng-doc-icon')\n\ticon: string = '';\n\n\t/** Custom icon name, if not set, `icon` will be used */\n\t@Input()\n\t@HostBinding('attr.data-ng-doc-custom-icon')\n\tcustomIcon: string = '';\n\n\t/** Icon size */\n\t@Input()\n\t@HostBinding('attr.data-ng-doc-size')\n\tsize: NgDocIconSize = 16;\n\n\tprivate readonly reload$: Subject<void> = new Subject<void>();\n\tprivate readonly assetsPath: string = inject(NG_DOC_ASSETS_PATH, { optional: true }) ?? '';\n\tprivate readonly customIconsPath: string =\n\t\tinject(NG_DOC_CUSTOM_ICONS_PATH, { optional: true }) ?? '';\n\n\tconstructor(\n\t\tprivate readonly elementRef: ElementRef<HTMLElement>,\n\t\tprivate readonly httpClient: HttpClient,\n\t) {}\n\n\tngOnChanges(): void {\n\t\tthis.reload$.next();\n\t}\n\n\tngOnInit(): void {\n\t\tthis.reload$\n\t\t\t.pipe(\n\t\t\t\tstartWith(null),\n\t\t\t\tswitchMap(() =>\n\t\t\t\t\tthis.httpClient\n\t\t\t\t\t\t.get(this.href, {\n\t\t\t\t\t\t\tresponseType: 'text',\n\t\t\t\t\t\t\tparams: { [NgDocCacheInterceptor.TOKEN]: 'true' },\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.pipe(\n\t\t\t\t\t\t\tcatchError((e: Error) => {\n\t\t\t\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\t\t\t\treturn of('');\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t)\n\t\t\t.subscribe((svg: string) => (this.elementRef.nativeElement.innerHTML = svg));\n\t}\n\n\tget href(): string {\n\t\treturn this.customIcon\n\t\t\t? `${this.customIconsPath}/${this.customIcon}.svg#${this.customIcon}`\n\t\t\t: `${this.assetsPath}/icons/${this.size}/${this.icon}.svg#${this.icon}`;\n\t}\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}