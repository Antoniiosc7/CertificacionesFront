import { __decorate, __metadata } from "tslib";
import { AsyncPipe, NgFor, NgIf, NgTemplateOutlet } from '@angular/common';
import { ChangeDetectionStrategy, Component, Inject, Input } from '@angular/core';
import { FormBuilder, FormsModule, ReactiveFormsModule, } from '@angular/forms';
import { ActivatedRoute, Router, RouterLink } from '@angular/router';
import { NgDocKindIconComponent } from '@ng-doc/app/components/kind-icon';
import { NG_DOC_API_LIST_TOKEN } from '@ng-doc/app/tokens';
import { asArray } from '@ng-doc/core/helpers/as-array';
import { NgDocAutofocusDirective, NgDocComboboxComponent, NgDocDataDirective, NgDocIconComponent, NgDocInputStringDirective, NgDocInputWrapperComponent, NgDocLabelComponent, NgDocListComponent, NgDocOptionComponent, NgDocTextComponent, NgDocTextLeftDirective, NgDocTooltipDirective, } from '@ng-doc/ui-kit';
import { ngDocMakePure } from '@ng-doc/ui-kit/decorators';
import { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';
import { debounceTime, map, startWith } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@angular/router";
let NgDocApiListComponent = class NgDocApiListComponent {
    constructor(apiList, formBuilder, route, router) {
        this.apiList = apiList;
        this.formBuilder = formBuilder;
        this.route = route;
        this.router = router;
        this.title = 'API Reference';
        this.formGroup = this.formBuilder.group({
            filter: [''],
            scope: [''],
            type: [''],
        });
        this.route.queryParamMap.pipe(untilDestroyed(this)).subscribe((paramMap) => this.formGroup.setValue({
            filter: paramMap.get('filter') || null,
            scope: paramMap.get('scope') || null,
            type: paramMap.get('type') || null,
        }));
        this.formGroup.valueChanges
            .pipe(untilDestroyed(this))
            .subscribe((formValue) => this.router.navigate([], {
            relativeTo: this.route,
            queryParams: formValue,
            queryParamsHandling: 'merge',
        }));
        this.api$ = this.formGroup.valueChanges.pipe(debounceTime(100), startWith(null), map(() => this.formGroup.value), map((form) => this.apiList
            .filter((api) => !form?.scope || api.title === form?.scope)
            .map((api) => ({
            ...api,
            items: api.items
                .filter((item) => item.name.toLowerCase().includes(form?.filter?.toLowerCase() ?? '') &&
                (!form?.type || item.type === form?.type))
                .sort((a, b) => a.type.localeCompare(b.type) || a.name.localeCompare(b.name)),
        }))
            .filter((api) => api.items.length)), untilDestroyed(this));
    }
    get scopes() {
        return asArray(new Set(this.apiList.flatMap((api) => api.title))).sort();
    }
    get types() {
        return asArray(new Set(this.apiList
            .flatMap((api) => api.items)
            .flatMap((item) => item.type))).sort();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocApiListComponent, deps: [{ token: NG_DOC_API_LIST_TOKEN }, { token: i1.FormBuilder }, { token: i2.ActivatedRoute }, { token: i2.Router }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.1.0", type: NgDocApiListComponent, isStandalone: true, selector: "ng-doc-api-list", inputs: { title: "title" }, ngImport: i0, template: "<h1 ng-doc-text>{{ title }}</h1>\n<div class=\"ng-doc-api-list-wrapper\" *ngIf=\"api$ | async as api\">\n\t<form class=\"ng-doc-api-filter\" [formGroup]=\"formGroup\">\n\t\t<label class=\"ng-doc-api-filter-item\" ng-doc-label=\"Filter\">\n\t\t\t<ng-doc-input-wrapper [leftContent]=\"leftContent\">\n\t\t\t\t<ng-template #leftContent>\n\t\t\t\t\t<ng-doc-icon icon=\"search\"></ng-doc-icon>\n\t\t\t\t</ng-template>\n\t\t\t\t<input\n\t\t\t\t\tngDocInputString\n\t\t\t\t\t[formControl]=\"formGroup.controls.filter\"\n\t\t\t\t\tplaceholder=\"Type the name\"\n\t\t\t\t\tngDocAutofocus />\n\t\t\t</ng-doc-input-wrapper>\n\t\t</label>\n\n\t\t<label class=\"ng-doc-api-filter-item\" ng-doc-label=\"Scope\" *ngIf=\"scopes.length\">\n\t\t\t<ng-doc-combobox\n\t\t\t\t[formControl]=\"formGroup.controls.scope\"\n\t\t\t\t[valueContent]=\"comboboxScopeItem\"\n\t\t\t\t[readonly]=\"true\"\n\t\t\t\tplaceholder=\"Choose the scope\">\n\t\t\t\t<ng-doc-list *ngDocData>\n\t\t\t\t\t<ng-doc-option *ngFor=\"let scope of scopes\" [value]=\"scope\">\n\t\t\t\t\t\t<ng-container\n\t\t\t\t\t\t\t*ngTemplateOutlet=\"comboboxScopeItem; context: { $implicit: scope }\"></ng-container>\n\t\t\t\t\t</ng-doc-option>\n\t\t\t\t</ng-doc-list>\n\t\t\t\t<ng-template let-value #comboboxScopeItem>\n\t\t\t\t\t{{ value }}\n\t\t\t\t</ng-template>\n\t\t\t</ng-doc-combobox>\n\t\t</label>\n\n\t\t<label class=\"ng-doc-api-filter-item\" ng-doc-label=\"Type\">\n\t\t\t<ng-doc-combobox\n\t\t\t\t[formControl]=\"formGroup.controls.type\"\n\t\t\t\t[valueContent]=\"comboboxTypeItem\"\n\t\t\t\t[readonly]=\"true\"\n\t\t\t\tplaceholder=\"Choose the entity type\">\n\t\t\t\t<ng-doc-list *ngDocData>\n\t\t\t\t\t<ng-doc-option *ngFor=\"let type of types\" [value]=\"type\">\n\t\t\t\t\t\t<ng-container\n\t\t\t\t\t\t\t*ngTemplateOutlet=\"comboboxTypeItem; context: { $implicit: type }\"></ng-container>\n\t\t\t\t\t</ng-doc-option>\n\t\t\t\t</ng-doc-list>\n\t\t\t\t<ng-template let-value #comboboxTypeItem>\n\t\t\t\t\t<div ng-doc-text>\n\t\t\t\t\t\t<ng-doc-kind-icon\n\t\t\t\t\t\t\t[kind]=\"value\"\n\t\t\t\t\t\t\t[ngDocTooltip]=\"value\"\n\t\t\t\t\t\t\t[positions]=\"['left-center', 'right-center']\"\n\t\t\t\t\t\t\tngDocTextLeft>\n\t\t\t\t\t\t</ng-doc-kind-icon>\n\t\t\t\t\t\t{{ value }}\n\t\t\t\t\t</div>\n\t\t\t\t</ng-template>\n\t\t\t</ng-doc-combobox>\n\t\t</label>\n\t</form>\n\t<div class=\"ng-doc-api-list\">\n\t\t<div class=\"ng-doc-api-scope\" *ngFor=\"let scope of api\">\n\t\t\t<h3 class=\"ng-doc-scope-title\" ng-doc-text>{{ scope.title }}</h3>\n\t\t\t<ul class=\"ng-doc-scope-items\" *ngIf=\"scope.items.length\">\n\t\t\t\t<li class=\"ng-doc-scope-item\" *ngFor=\"let apiReference of scope.items\">\n\t\t\t\t\t<a class=\"ng-doc-scope-item-link\" [routerLink]=\"[apiReference.route]\">\n\t\t\t\t\t\t<ng-doc-kind-icon [kind]=\"apiReference.type\" [ngDocTooltip]=\"apiReference.type\">\n\t\t\t\t\t\t</ng-doc-kind-icon>\n\t\t\t\t\t\t{{ apiReference.name }}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n", styles: [":host h1{margin-top:0}:host .ng-doc-api-list-wrapper .ng-doc-api-filter{display:flex;margin-top:calc(var(--ng-doc-base-gutter) * 3);flex-wrap:wrap;gap:calc(var(--ng-doc-base-gutter) * 2)}:host .ng-doc-api-list-wrapper .ng-doc-api-filter .ng-doc-api-filter-item{width:200px}:host .ng-doc-api-list-wrapper .ng-doc-api-list{margin-top:calc(var(--ng-doc-base-gutter) * 2)}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope{display:flex;flex-direction:column}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope .ng-doc-scope-items{margin-top:calc(var(--ng-doc-base-gutter) * 3);list-style:none;padding:0}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope .ng-doc-scope-items .ng-doc-scope-item{margin:var(--ng-doc-base-gutter) 0;float:left;width:33%;overflow:hidden;min-width:330px;text-overflow:ellipsis;white-space:nowrap}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope .ng-doc-scope-items .ng-doc-scope-item .ng-doc-scope-item-link{display:flex;align-items:center;color:var(--ng-doc-text);text-decoration:none}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope .ng-doc-scope-items .ng-doc-scope-item .ng-doc-scope-item-link:hover{text-decoration:underline}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope .ng-doc-scope-items .ng-doc-scope-item .ng-doc-scope-item-link ng-doc-kind-icon{margin-right:var(--ng-doc-base-gutter);text-decoration:none!important}:host ng-doc-input-wrapper ng-doc-icon{--ng-doc-icon-color: var(--ng-doc-text-muted)}\n"], dependencies: [{ kind: "component", type: NgDocTextComponent, selector: "[ng-doc-text]", inputs: ["size", "color", "align", "absoluteContent"] }, { kind: "directive", type: NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "ngmodule", type: ReactiveFormsModule }, { kind: "directive", type: i1.FormControlDirective, selector: "[formControl]", inputs: ["formControl", "disabled", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { kind: "directive", type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "component", type: NgDocLabelComponent, selector: "label[ng-doc-label]", inputs: ["ng-doc-label", "align"] }, { kind: "component", type: NgDocInputWrapperComponent, selector: "ng-doc-input-wrapper", inputs: ["blurContent", "blurContext", "leftContent", "rightContent", "align"] }, { kind: "component", type: NgDocIconComponent, selector: "ng-doc-icon", inputs: ["icon", "customIcon", "size"] }, { kind: "directive", type: NgDocInputStringDirective, selector: "input[ngDocInputString]" }, { kind: "directive", type: NgDocAutofocusDirective, selector: "[ngDocAutofocus]", inputs: ["selectAll"] }, { kind: "component", type: NgDocComboboxComponent, selector: "ng-doc-combobox", inputs: ["readonly", "placeholder", "clearButton", "rightContent", "valueContent"] }, { kind: "directive", type: NgDocDataDirective, selector: "[ngDocData]" }, { kind: "component", type: NgDocListComponent, selector: "ng-doc-list" }, { kind: "directive", type: NgFor, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "component", type: NgDocOptionComponent, selector: "ng-doc-option" }, { kind: "directive", type: NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: NgDocKindIconComponent, selector: "ng-doc-kind-icon", inputs: ["kind", "type"] }, { kind: "directive", type: NgDocTextLeftDirective, selector: "[ngDocTextLeft]" }, { kind: "directive", type: NgDocTooltipDirective, selector: "[ngDocTooltip]", inputs: ["ngDocTooltip", "delay", "displayOrigin", "pointerOrigin", "positions", "canOpen", "panelClass", "minHeight", "maxHeight", "height", "minWidth", "maxWidth", "width"], outputs: ["beforeOpen", "afterOpen", "beforeClose", "afterClose"], exportAs: ["ngDocTooltip"] }, { kind: "directive", type: RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "info", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "pipe", type: AsyncPipe, name: "async" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
};
__decorate([
    ngDocMakePure,
    __metadata("design:type", Array),
    __metadata("design:paramtypes", [])
], NgDocApiListComponent.prototype, "scopes", null);
__decorate([
    ngDocMakePure,
    __metadata("design:type", Array),
    __metadata("design:paramtypes", [])
], NgDocApiListComponent.prototype, "types", null);
NgDocApiListComponent = __decorate([
    UntilDestroy(),
    __metadata("design:paramtypes", [Array, FormBuilder,
        ActivatedRoute,
        Router])
], NgDocApiListComponent);
export { NgDocApiListComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocApiListComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ng-doc-api-list', changeDetection: ChangeDetectionStrategy.OnPush, standalone: true, imports: [
                        NgDocTextComponent,
                        NgIf,
                        FormsModule,
                        ReactiveFormsModule,
                        NgDocLabelComponent,
                        NgDocInputWrapperComponent,
                        NgDocIconComponent,
                        NgDocInputStringDirective,
                        NgDocAutofocusDirective,
                        NgDocComboboxComponent,
                        NgDocDataDirective,
                        NgDocListComponent,
                        NgFor,
                        NgDocOptionComponent,
                        NgTemplateOutlet,
                        NgDocKindIconComponent,
                        NgDocTextLeftDirective,
                        NgDocTooltipDirective,
                        RouterLink,
                        AsyncPipe,
                    ], template: "<h1 ng-doc-text>{{ title }}</h1>\n<div class=\"ng-doc-api-list-wrapper\" *ngIf=\"api$ | async as api\">\n\t<form class=\"ng-doc-api-filter\" [formGroup]=\"formGroup\">\n\t\t<label class=\"ng-doc-api-filter-item\" ng-doc-label=\"Filter\">\n\t\t\t<ng-doc-input-wrapper [leftContent]=\"leftContent\">\n\t\t\t\t<ng-template #leftContent>\n\t\t\t\t\t<ng-doc-icon icon=\"search\"></ng-doc-icon>\n\t\t\t\t</ng-template>\n\t\t\t\t<input\n\t\t\t\t\tngDocInputString\n\t\t\t\t\t[formControl]=\"formGroup.controls.filter\"\n\t\t\t\t\tplaceholder=\"Type the name\"\n\t\t\t\t\tngDocAutofocus />\n\t\t\t</ng-doc-input-wrapper>\n\t\t</label>\n\n\t\t<label class=\"ng-doc-api-filter-item\" ng-doc-label=\"Scope\" *ngIf=\"scopes.length\">\n\t\t\t<ng-doc-combobox\n\t\t\t\t[formControl]=\"formGroup.controls.scope\"\n\t\t\t\t[valueContent]=\"comboboxScopeItem\"\n\t\t\t\t[readonly]=\"true\"\n\t\t\t\tplaceholder=\"Choose the scope\">\n\t\t\t\t<ng-doc-list *ngDocData>\n\t\t\t\t\t<ng-doc-option *ngFor=\"let scope of scopes\" [value]=\"scope\">\n\t\t\t\t\t\t<ng-container\n\t\t\t\t\t\t\t*ngTemplateOutlet=\"comboboxScopeItem; context: { $implicit: scope }\"></ng-container>\n\t\t\t\t\t</ng-doc-option>\n\t\t\t\t</ng-doc-list>\n\t\t\t\t<ng-template let-value #comboboxScopeItem>\n\t\t\t\t\t{{ value }}\n\t\t\t\t</ng-template>\n\t\t\t</ng-doc-combobox>\n\t\t</label>\n\n\t\t<label class=\"ng-doc-api-filter-item\" ng-doc-label=\"Type\">\n\t\t\t<ng-doc-combobox\n\t\t\t\t[formControl]=\"formGroup.controls.type\"\n\t\t\t\t[valueContent]=\"comboboxTypeItem\"\n\t\t\t\t[readonly]=\"true\"\n\t\t\t\tplaceholder=\"Choose the entity type\">\n\t\t\t\t<ng-doc-list *ngDocData>\n\t\t\t\t\t<ng-doc-option *ngFor=\"let type of types\" [value]=\"type\">\n\t\t\t\t\t\t<ng-container\n\t\t\t\t\t\t\t*ngTemplateOutlet=\"comboboxTypeItem; context: { $implicit: type }\"></ng-container>\n\t\t\t\t\t</ng-doc-option>\n\t\t\t\t</ng-doc-list>\n\t\t\t\t<ng-template let-value #comboboxTypeItem>\n\t\t\t\t\t<div ng-doc-text>\n\t\t\t\t\t\t<ng-doc-kind-icon\n\t\t\t\t\t\t\t[kind]=\"value\"\n\t\t\t\t\t\t\t[ngDocTooltip]=\"value\"\n\t\t\t\t\t\t\t[positions]=\"['left-center', 'right-center']\"\n\t\t\t\t\t\t\tngDocTextLeft>\n\t\t\t\t\t\t</ng-doc-kind-icon>\n\t\t\t\t\t\t{{ value }}\n\t\t\t\t\t</div>\n\t\t\t\t</ng-template>\n\t\t\t</ng-doc-combobox>\n\t\t</label>\n\t</form>\n\t<div class=\"ng-doc-api-list\">\n\t\t<div class=\"ng-doc-api-scope\" *ngFor=\"let scope of api\">\n\t\t\t<h3 class=\"ng-doc-scope-title\" ng-doc-text>{{ scope.title }}</h3>\n\t\t\t<ul class=\"ng-doc-scope-items\" *ngIf=\"scope.items.length\">\n\t\t\t\t<li class=\"ng-doc-scope-item\" *ngFor=\"let apiReference of scope.items\">\n\t\t\t\t\t<a class=\"ng-doc-scope-item-link\" [routerLink]=\"[apiReference.route]\">\n\t\t\t\t\t\t<ng-doc-kind-icon [kind]=\"apiReference.type\" [ngDocTooltip]=\"apiReference.type\">\n\t\t\t\t\t\t</ng-doc-kind-icon>\n\t\t\t\t\t\t{{ apiReference.name }}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n", styles: [":host h1{margin-top:0}:host .ng-doc-api-list-wrapper .ng-doc-api-filter{display:flex;margin-top:calc(var(--ng-doc-base-gutter) * 3);flex-wrap:wrap;gap:calc(var(--ng-doc-base-gutter) * 2)}:host .ng-doc-api-list-wrapper .ng-doc-api-filter .ng-doc-api-filter-item{width:200px}:host .ng-doc-api-list-wrapper .ng-doc-api-list{margin-top:calc(var(--ng-doc-base-gutter) * 2)}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope{display:flex;flex-direction:column}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope .ng-doc-scope-items{margin-top:calc(var(--ng-doc-base-gutter) * 3);list-style:none;padding:0}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope .ng-doc-scope-items .ng-doc-scope-item{margin:var(--ng-doc-base-gutter) 0;float:left;width:33%;overflow:hidden;min-width:330px;text-overflow:ellipsis;white-space:nowrap}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope .ng-doc-scope-items .ng-doc-scope-item .ng-doc-scope-item-link{display:flex;align-items:center;color:var(--ng-doc-text);text-decoration:none}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope .ng-doc-scope-items .ng-doc-scope-item .ng-doc-scope-item-link:hover{text-decoration:underline}:host .ng-doc-api-list-wrapper .ng-doc-api-list .ng-doc-api-scope .ng-doc-scope-items .ng-doc-scope-item .ng-doc-scope-item-link ng-doc-kind-icon{margin-right:var(--ng-doc-base-gutter);text-decoration:none!important}:host ng-doc-input-wrapper ng-doc-icon{--ng-doc-icon-color: var(--ng-doc-text-muted)}\n"] }]
        }], ctorParameters: () => [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [NG_DOC_API_LIST_TOKEN]
                }] }, { type: i1.FormBuilder }, { type: i2.ActivatedRoute }, { type: i2.Router }], propDecorators: { title: [{
                type: Input
            }], scopes: [], types: [] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBpLWxpc3QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9hcHAvY29tcG9uZW50cy9hcGktbGlzdC9hcGktbGlzdC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FwcC9jb21wb25lbnRzL2FwaS1saXN0L2FwaS1saXN0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzRSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbEYsT0FBTyxFQUNOLFdBQVcsRUFHWCxXQUFXLEVBQ1gsbUJBQW1CLEdBQ25CLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEIsT0FBTyxFQUFFLGNBQWMsRUFBWSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0UsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDMUUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFM0QsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBRXhELE9BQU8sRUFDTix1QkFBdUIsRUFDdkIsc0JBQXNCLEVBQ3RCLGtCQUFrQixFQUNsQixrQkFBa0IsRUFDbEIseUJBQXlCLEVBQ3pCLDBCQUEwQixFQUMxQixtQkFBbUIsRUFDbkIsa0JBQWtCLEVBQ2xCLG9CQUFvQixFQUNwQixrQkFBa0IsRUFDbEIsc0JBQXNCLEVBQ3RCLHFCQUFxQixHQUNyQixNQUFNLGdCQUFnQixDQUFDO0FBQ3hCLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsWUFB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QUN0QixxQkFBcUIsMFVBQ3JCLFVBQVUsK05BQ1YsU0FBUzs7QUFrRVY7SUFBQyxhQUFhOzs7bURBR2I7QUFFRDtJQUFDLGFBQWE7OztrREFTYjtBQTVFVyxxQkFBcUI7SUFEakMsWUFBWSxFQUFFOzRDQVNpQixXQUFXO1FBQ2pCLGNBQWM7UUFDYixNQUFNO0dBVnBCLHFCQUFxQixDQTZFakM7OzJGQTdFWSxxQkFBcUI7a0JBOUJqQyxTQUFTOytCQUNDLGlCQUFpQixtQkFHVix1QkFBdUIsQ0FBQyxNQUFNLGNBQ25DLElBQUksV0FDUDt3QkFDUixrQkFBa0I7d0JBQ2xCLElBQUk7d0JBQ0osV0FBVzt3QkFDWCxtQkFBbUI7d0JBQ25CLG1CQUFtQjt3QkFDbkIsMEJBQTBCO3dCQUMxQixrQkFBa0I7d0JBQ2xCLHlCQUF5Qjt3QkFDekIsdUJBQXVCO3dCQUN2QixzQkFBc0I7d0JBQ3RCLGtCQUFrQjt3QkFDbEIsa0JBQWtCO3dCQUNsQixLQUFLO3dCQUNMLG9CQUFvQjt3QkFDcEIsZ0JBQWdCO3dCQUNoQixzQkFBc0I7d0JBQ3RCLHNCQUFzQjt3QkFDdEIscUJBQXFCO3dCQUNyQixVQUFVO3dCQUNWLFNBQVM7cUJBQ1Q7OzBCQVNDLE1BQU07MkJBQUMscUJBQXFCO3FIQUxyQixLQUFLO3NCQUFiLEtBQUs7Z0JBOERGLE1BQU0sTUFLTixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXN5bmNQaXBlLCBOZ0ZvciwgTmdJZiwgTmdUZW1wbGF0ZU91dGxldCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBJbmplY3QsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuXHRGb3JtQnVpbGRlcixcblx0Rm9ybUNvbnRyb2wsXG5cdEZvcm1Hcm91cCxcblx0Rm9ybXNNb2R1bGUsXG5cdFJlYWN0aXZlRm9ybXNNb2R1bGUsXG59IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEFjdGl2YXRlZFJvdXRlLCBQYXJhbU1hcCwgUm91dGVyLCBSb3V0ZXJMaW5rIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IE5nRG9jS2luZEljb25Db21wb25lbnQgfSBmcm9tICdAbmctZG9jL2FwcC9jb21wb25lbnRzL2tpbmQtaWNvbic7XG5pbXBvcnQgeyBOR19ET0NfQVBJX0xJU1RfVE9LRU4gfSBmcm9tICdAbmctZG9jL2FwcC90b2tlbnMnO1xuaW1wb3J0IHsgTmdEb2NGb3JtUGFydGlhbFZhbHVlIH0gZnJvbSAnQG5nLWRvYy9hcHAvdHlwZXMnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJ0BuZy1kb2MvY29yZS9oZWxwZXJzL2FzLWFycmF5JztcbmltcG9ydCB7IE5nRG9jQXBpTGlzdCwgTmdEb2NBcGlMaXN0SXRlbSB9IGZyb20gJ0BuZy1kb2MvY29yZS9pbnRlcmZhY2VzJztcbmltcG9ydCB7XG5cdE5nRG9jQXV0b2ZvY3VzRGlyZWN0aXZlLFxuXHROZ0RvY0NvbWJvYm94Q29tcG9uZW50LFxuXHROZ0RvY0RhdGFEaXJlY3RpdmUsXG5cdE5nRG9jSWNvbkNvbXBvbmVudCxcblx0TmdEb2NJbnB1dFN0cmluZ0RpcmVjdGl2ZSxcblx0TmdEb2NJbnB1dFdyYXBwZXJDb21wb25lbnQsXG5cdE5nRG9jTGFiZWxDb21wb25lbnQsXG5cdE5nRG9jTGlzdENvbXBvbmVudCxcblx0TmdEb2NPcHRpb25Db21wb25lbnQsXG5cdE5nRG9jVGV4dENvbXBvbmVudCxcblx0TmdEb2NUZXh0TGVmdERpcmVjdGl2ZSxcblx0TmdEb2NUb29sdGlwRGlyZWN0aXZlLFxufSBmcm9tICdAbmctZG9jL3VpLWtpdCc7XG5pbXBvcnQgeyBuZ0RvY01ha2VQdXJlIH0gZnJvbSAnQG5nLWRvYy91aS1raXQvZGVjb3JhdG9ycyc7XG5pbXBvcnQgeyBVbnRpbERlc3Ryb3ksIHVudGlsRGVzdHJveWVkIH0gZnJvbSAnQG5nbmVhdC91bnRpbC1kZXN0cm95JztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSwgbWFwLCBzdGFydFdpdGggfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmludGVyZmFjZSBBcGlGaWx0ZXJGb3JtIHtcblx0ZmlsdGVyOiBGb3JtQ29udHJvbDxzdHJpbmcgfCBudWxsPjtcblx0c2NvcGU6IEZvcm1Db250cm9sPHN0cmluZyB8IG51bGw+O1xuXHR0eXBlOiBGb3JtQ29udHJvbDxzdHJpbmcgfCBudWxsPjtcbn1cblxuQENvbXBvbmVudCh7XG5cdHNlbGVjdG9yOiAnbmctZG9jLWFwaS1saXN0Jyxcblx0dGVtcGxhdGVVcmw6ICcuL2FwaS1saXN0LmNvbXBvbmVudC5odG1sJyxcblx0c3R5bGVVcmxzOiBbJy4vYXBpLWxpc3QuY29tcG9uZW50LnNjc3MnXSxcblx0Y2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG5cdHN0YW5kYWxvbmU6IHRydWUsXG5cdGltcG9ydHM6IFtcblx0XHROZ0RvY1RleHRDb21wb25lbnQsXG5cdFx0TmdJZixcblx0XHRGb3Jtc01vZHVsZSxcblx0XHRSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuXHRcdE5nRG9jTGFiZWxDb21wb25lbnQsXG5cdFx0TmdEb2NJbnB1dFdyYXBwZXJDb21wb25lbnQsXG5cdFx0TmdEb2NJY29uQ29tcG9uZW50LFxuXHRcdE5nRG9jSW5wdXRTdHJpbmdEaXJlY3RpdmUsXG5cdFx0TmdEb2NBdXRvZm9jdXNEaXJlY3RpdmUsXG5cdFx0TmdEb2NDb21ib2JveENvbXBvbmVudCxcblx0XHROZ0RvY0RhdGFEaXJlY3RpdmUsXG5cdFx0TmdEb2NMaXN0Q29tcG9uZW50LFxuXHRcdE5nRm9yLFxuXHRcdE5nRG9jT3B0aW9uQ29tcG9uZW50LFxuXHRcdE5nVGVtcGxhdGVPdXRsZXQsXG5cdFx0TmdEb2NLaW5kSWNvbkNvbXBvbmVudCxcblx0XHROZ0RvY1RleHRMZWZ0RGlyZWN0aXZlLFxuXHRcdE5nRG9jVG9vbHRpcERpcmVjdGl2ZSxcblx0XHRSb3V0ZXJMaW5rLFxuXHRcdEFzeW5jUGlwZSxcblx0XSxcbn0pXG5AVW50aWxEZXN0cm95KClcbmV4cG9ydCBjbGFzcyBOZ0RvY0FwaUxpc3RDb21wb25lbnQge1xuXHRASW5wdXQoKSB0aXRsZTogc3RyaW5nID0gJ0FQSSBSZWZlcmVuY2UnO1xuXHRmb3JtR3JvdXA6IEZvcm1Hcm91cDxBcGlGaWx0ZXJGb3JtPjtcblx0YXBpJDogT2JzZXJ2YWJsZTxOZ0RvY0FwaUxpc3RbXT47XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0QEluamVjdChOR19ET0NfQVBJX0xJU1RfVE9LRU4pXG5cdFx0cHJpdmF0ZSByZWFkb25seSBhcGlMaXN0OiBOZ0RvY0FwaUxpc3RbXSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IGZvcm1CdWlsZGVyOiBGb3JtQnVpbGRlcixcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJvdXRlcjogUm91dGVyLFxuXHQpIHtcblx0XHR0aGlzLmZvcm1Hcm91cCA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xuXHRcdFx0ZmlsdGVyOiBbJyddLFxuXHRcdFx0c2NvcGU6IFsnJ10sXG5cdFx0XHR0eXBlOiBbJyddLFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5yb3V0ZS5xdWVyeVBhcmFtTWFwLnBpcGUodW50aWxEZXN0cm95ZWQodGhpcykpLnN1YnNjcmliZSgocGFyYW1NYXA6IFBhcmFtTWFwKSA9PlxuXHRcdFx0dGhpcy5mb3JtR3JvdXAuc2V0VmFsdWUoe1xuXHRcdFx0XHRmaWx0ZXI6IHBhcmFtTWFwLmdldCgnZmlsdGVyJykgfHwgbnVsbCxcblx0XHRcdFx0c2NvcGU6IHBhcmFtTWFwLmdldCgnc2NvcGUnKSB8fCBudWxsLFxuXHRcdFx0XHR0eXBlOiBwYXJhbU1hcC5nZXQoJ3R5cGUnKSB8fCBudWxsLFxuXHRcdFx0fSksXG5cdFx0KTtcblxuXHRcdHRoaXMuZm9ybUdyb3VwLnZhbHVlQ2hhbmdlc1xuXHRcdFx0LnBpcGUodW50aWxEZXN0cm95ZWQodGhpcykpXG5cdFx0XHQuc3Vic2NyaWJlKChmb3JtVmFsdWU6IE5nRG9jRm9ybVBhcnRpYWxWYWx1ZTx0eXBlb2YgdGhpcy5mb3JtR3JvdXA+KSA9PlxuXHRcdFx0XHR0aGlzLnJvdXRlci5uYXZpZ2F0ZShbXSwge1xuXHRcdFx0XHRcdHJlbGF0aXZlVG86IHRoaXMucm91dGUsXG5cdFx0XHRcdFx0cXVlcnlQYXJhbXM6IGZvcm1WYWx1ZSxcblx0XHRcdFx0XHRxdWVyeVBhcmFtc0hhbmRsaW5nOiAnbWVyZ2UnLFxuXHRcdFx0XHR9KSxcblx0XHRcdCk7XG5cblx0XHR0aGlzLmFwaSQgPSB0aGlzLmZvcm1Hcm91cC52YWx1ZUNoYW5nZXMucGlwZShcblx0XHRcdGRlYm91bmNlVGltZSgxMDApLFxuXHRcdFx0c3RhcnRXaXRoKG51bGwpLFxuXHRcdFx0bWFwKCgpID0+IHRoaXMuZm9ybUdyb3VwLnZhbHVlKSxcblx0XHRcdG1hcCgoZm9ybTogTmdEb2NGb3JtUGFydGlhbFZhbHVlPHR5cGVvZiB0aGlzLmZvcm1Hcm91cD4pID0+XG5cdFx0XHRcdHRoaXMuYXBpTGlzdFxuXHRcdFx0XHRcdC5maWx0ZXIoKGFwaTogTmdEb2NBcGlMaXN0KSA9PiAhZm9ybT8uc2NvcGUgfHwgYXBpLnRpdGxlID09PSBmb3JtPy5zY29wZSlcblx0XHRcdFx0XHQubWFwKChhcGk6IE5nRG9jQXBpTGlzdCkgPT4gKHtcblx0XHRcdFx0XHRcdC4uLmFwaSxcblx0XHRcdFx0XHRcdGl0ZW1zOiBhcGkuaXRlbXNcblx0XHRcdFx0XHRcdFx0LmZpbHRlcihcblx0XHRcdFx0XHRcdFx0XHQoaXRlbTogTmdEb2NBcGlMaXN0SXRlbSkgPT5cblx0XHRcdFx0XHRcdFx0XHRcdGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZvcm0/LmZpbHRlcj8udG9Mb3dlckNhc2UoKSA/PyAnJykgJiZcblx0XHRcdFx0XHRcdFx0XHRcdCghZm9ybT8udHlwZSB8fCBpdGVtLnR5cGUgPT09IGZvcm0/LnR5cGUpLFxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdC5zb3J0KFxuXHRcdFx0XHRcdFx0XHRcdChhOiBOZ0RvY0FwaUxpc3RJdGVtLCBiOiBOZ0RvY0FwaUxpc3RJdGVtKSA9PlxuXHRcdFx0XHRcdFx0XHRcdFx0YS50eXBlLmxvY2FsZUNvbXBhcmUoYi50eXBlKSB8fCBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpLFxuXHRcdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdH0pKVxuXHRcdFx0XHRcdC5maWx0ZXIoKGFwaTogTmdEb2NBcGlMaXN0KSA9PiBhcGkuaXRlbXMubGVuZ3RoKSxcblx0XHRcdCksXG5cdFx0XHR1bnRpbERlc3Ryb3llZCh0aGlzKSxcblx0XHQpO1xuXHR9XG5cblx0QG5nRG9jTWFrZVB1cmVcblx0Z2V0IHNjb3BlcygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIGFzQXJyYXkobmV3IFNldCh0aGlzLmFwaUxpc3QuZmxhdE1hcCgoYXBpOiBOZ0RvY0FwaUxpc3QpID0+IGFwaS50aXRsZSkpKS5zb3J0KCk7XG5cdH1cblxuXHRAbmdEb2NNYWtlUHVyZVxuXHRnZXQgdHlwZXMoKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiBhc0FycmF5KFxuXHRcdFx0bmV3IFNldChcblx0XHRcdFx0dGhpcy5hcGlMaXN0XG5cdFx0XHRcdFx0LmZsYXRNYXAoKGFwaTogTmdEb2NBcGlMaXN0KSA9PiBhcGkuaXRlbXMpXG5cdFx0XHRcdFx0LmZsYXRNYXAoKGl0ZW06IE5nRG9jQXBpTGlzdEl0ZW0pID0+IGl0ZW0udHlwZSksXG5cdFx0XHQpLFxuXHRcdCkuc29ydCgpO1xuXHR9XG59XG4iLCI8aDEgbmctZG9jLXRleHQ+e3sgdGl0bGUgfX08L2gxPlxuPGRpdiBjbGFzcz1cIm5nLWRvYy1hcGktbGlzdC13cmFwcGVyXCIgKm5nSWY9XCJhcGkkIHwgYXN5bmMgYXMgYXBpXCI+XG5cdDxmb3JtIGNsYXNzPVwibmctZG9jLWFwaS1maWx0ZXJcIiBbZm9ybUdyb3VwXT1cImZvcm1Hcm91cFwiPlxuXHRcdDxsYWJlbCBjbGFzcz1cIm5nLWRvYy1hcGktZmlsdGVyLWl0ZW1cIiBuZy1kb2MtbGFiZWw9XCJGaWx0ZXJcIj5cblx0XHRcdDxuZy1kb2MtaW5wdXQtd3JhcHBlciBbbGVmdENvbnRlbnRdPVwibGVmdENvbnRlbnRcIj5cblx0XHRcdFx0PG5nLXRlbXBsYXRlICNsZWZ0Q29udGVudD5cblx0XHRcdFx0XHQ8bmctZG9jLWljb24gaWNvbj1cInNlYXJjaFwiPjwvbmctZG9jLWljb24+XG5cdFx0XHRcdDwvbmctdGVtcGxhdGU+XG5cdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdG5nRG9jSW5wdXRTdHJpbmdcblx0XHRcdFx0XHRbZm9ybUNvbnRyb2xdPVwiZm9ybUdyb3VwLmNvbnRyb2xzLmZpbHRlclwiXG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI9XCJUeXBlIHRoZSBuYW1lXCJcblx0XHRcdFx0XHRuZ0RvY0F1dG9mb2N1cyAvPlxuXHRcdFx0PC9uZy1kb2MtaW5wdXQtd3JhcHBlcj5cblx0XHQ8L2xhYmVsPlxuXG5cdFx0PGxhYmVsIGNsYXNzPVwibmctZG9jLWFwaS1maWx0ZXItaXRlbVwiIG5nLWRvYy1sYWJlbD1cIlNjb3BlXCIgKm5nSWY9XCJzY29wZXMubGVuZ3RoXCI+XG5cdFx0XHQ8bmctZG9jLWNvbWJvYm94XG5cdFx0XHRcdFtmb3JtQ29udHJvbF09XCJmb3JtR3JvdXAuY29udHJvbHMuc2NvcGVcIlxuXHRcdFx0XHRbdmFsdWVDb250ZW50XT1cImNvbWJvYm94U2NvcGVJdGVtXCJcblx0XHRcdFx0W3JlYWRvbmx5XT1cInRydWVcIlxuXHRcdFx0XHRwbGFjZWhvbGRlcj1cIkNob29zZSB0aGUgc2NvcGVcIj5cblx0XHRcdFx0PG5nLWRvYy1saXN0ICpuZ0RvY0RhdGE+XG5cdFx0XHRcdFx0PG5nLWRvYy1vcHRpb24gKm5nRm9yPVwibGV0IHNjb3BlIG9mIHNjb3Blc1wiIFt2YWx1ZV09XCJzY29wZVwiPlxuXHRcdFx0XHRcdFx0PG5nLWNvbnRhaW5lclxuXHRcdFx0XHRcdFx0XHQqbmdUZW1wbGF0ZU91dGxldD1cImNvbWJvYm94U2NvcGVJdGVtOyBjb250ZXh0OiB7ICRpbXBsaWNpdDogc2NvcGUgfVwiPjwvbmctY29udGFpbmVyPlxuXHRcdFx0XHRcdDwvbmctZG9jLW9wdGlvbj5cblx0XHRcdFx0PC9uZy1kb2MtbGlzdD5cblx0XHRcdFx0PG5nLXRlbXBsYXRlIGxldC12YWx1ZSAjY29tYm9ib3hTY29wZUl0ZW0+XG5cdFx0XHRcdFx0e3sgdmFsdWUgfX1cblx0XHRcdFx0PC9uZy10ZW1wbGF0ZT5cblx0XHRcdDwvbmctZG9jLWNvbWJvYm94PlxuXHRcdDwvbGFiZWw+XG5cblx0XHQ8bGFiZWwgY2xhc3M9XCJuZy1kb2MtYXBpLWZpbHRlci1pdGVtXCIgbmctZG9jLWxhYmVsPVwiVHlwZVwiPlxuXHRcdFx0PG5nLWRvYy1jb21ib2JveFxuXHRcdFx0XHRbZm9ybUNvbnRyb2xdPVwiZm9ybUdyb3VwLmNvbnRyb2xzLnR5cGVcIlxuXHRcdFx0XHRbdmFsdWVDb250ZW50XT1cImNvbWJvYm94VHlwZUl0ZW1cIlxuXHRcdFx0XHRbcmVhZG9ubHldPVwidHJ1ZVwiXG5cdFx0XHRcdHBsYWNlaG9sZGVyPVwiQ2hvb3NlIHRoZSBlbnRpdHkgdHlwZVwiPlxuXHRcdFx0XHQ8bmctZG9jLWxpc3QgKm5nRG9jRGF0YT5cblx0XHRcdFx0XHQ8bmctZG9jLW9wdGlvbiAqbmdGb3I9XCJsZXQgdHlwZSBvZiB0eXBlc1wiIFt2YWx1ZV09XCJ0eXBlXCI+XG5cdFx0XHRcdFx0XHQ8bmctY29udGFpbmVyXG5cdFx0XHRcdFx0XHRcdCpuZ1RlbXBsYXRlT3V0bGV0PVwiY29tYm9ib3hUeXBlSXRlbTsgY29udGV4dDogeyAkaW1wbGljaXQ6IHR5cGUgfVwiPjwvbmctY29udGFpbmVyPlxuXHRcdFx0XHRcdDwvbmctZG9jLW9wdGlvbj5cblx0XHRcdFx0PC9uZy1kb2MtbGlzdD5cblx0XHRcdFx0PG5nLXRlbXBsYXRlIGxldC12YWx1ZSAjY29tYm9ib3hUeXBlSXRlbT5cblx0XHRcdFx0XHQ8ZGl2IG5nLWRvYy10ZXh0PlxuXHRcdFx0XHRcdFx0PG5nLWRvYy1raW5kLWljb25cblx0XHRcdFx0XHRcdFx0W2tpbmRdPVwidmFsdWVcIlxuXHRcdFx0XHRcdFx0XHRbbmdEb2NUb29sdGlwXT1cInZhbHVlXCJcblx0XHRcdFx0XHRcdFx0W3Bvc2l0aW9uc109XCJbJ2xlZnQtY2VudGVyJywgJ3JpZ2h0LWNlbnRlciddXCJcblx0XHRcdFx0XHRcdFx0bmdEb2NUZXh0TGVmdD5cblx0XHRcdFx0XHRcdDwvbmctZG9jLWtpbmQtaWNvbj5cblx0XHRcdFx0XHRcdHt7IHZhbHVlIH19XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvbmctdGVtcGxhdGU+XG5cdFx0XHQ8L25nLWRvYy1jb21ib2JveD5cblx0XHQ8L2xhYmVsPlxuXHQ8L2Zvcm0+XG5cdDxkaXYgY2xhc3M9XCJuZy1kb2MtYXBpLWxpc3RcIj5cblx0XHQ8ZGl2IGNsYXNzPVwibmctZG9jLWFwaS1zY29wZVwiICpuZ0Zvcj1cImxldCBzY29wZSBvZiBhcGlcIj5cblx0XHRcdDxoMyBjbGFzcz1cIm5nLWRvYy1zY29wZS10aXRsZVwiIG5nLWRvYy10ZXh0Pnt7IHNjb3BlLnRpdGxlIH19PC9oMz5cblx0XHRcdDx1bCBjbGFzcz1cIm5nLWRvYy1zY29wZS1pdGVtc1wiICpuZ0lmPVwic2NvcGUuaXRlbXMubGVuZ3RoXCI+XG5cdFx0XHRcdDxsaSBjbGFzcz1cIm5nLWRvYy1zY29wZS1pdGVtXCIgKm5nRm9yPVwibGV0IGFwaVJlZmVyZW5jZSBvZiBzY29wZS5pdGVtc1wiPlxuXHRcdFx0XHRcdDxhIGNsYXNzPVwibmctZG9jLXNjb3BlLWl0ZW0tbGlua1wiIFtyb3V0ZXJMaW5rXT1cIlthcGlSZWZlcmVuY2Uucm91dGVdXCI+XG5cdFx0XHRcdFx0XHQ8bmctZG9jLWtpbmQtaWNvbiBba2luZF09XCJhcGlSZWZlcmVuY2UudHlwZVwiIFtuZ0RvY1Rvb2x0aXBdPVwiYXBpUmVmZXJlbmNlLnR5cGVcIj5cblx0XHRcdFx0XHRcdDwvbmctZG9jLWtpbmQtaWNvbj5cblx0XHRcdFx0XHRcdHt7IGFwaVJlZmVyZW5jZS5uYW1lIH19XG5cdFx0XHRcdFx0PC9hPlxuXHRcdFx0XHQ8L2xpPlxuXHRcdFx0PC91bD5cblx0XHQ8L2Rpdj5cblx0PC9kaXY+XG48L2Rpdj5cbiJdfQ==