import { __decorate, __metadata } from "tslib";
import { NgFor } from '@angular/common';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ContentChildren, Input, QueryList, ViewChildren, } from '@angular/core';
import { tabFadeAnimation } from '@ng-doc/ui-kit/animations';
import { NgDocSelectionComponent, NgDocSelectionHostDirective, NgDocSelectionOriginDirective, } from '@ng-doc/ui-kit/components/selection';
import { NgDocSmoothResizeComponent } from '@ng-doc/ui-kit/components/smooth-resize';
import { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';
import { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';
import { startWith } from 'rxjs/operators';
import { NgDocTabComponent } from './tab/tab.component';
import * as i0 from "@angular/core";
import * as i1 from "@tinkoff/ng-polymorpheus";
let NgDocTabGroupComponent = class NgDocTabGroupComponent {
    constructor(changeDetectorRef) {
        this.changeDetectorRef = changeDetectorRef;
        this.tabElements = new QueryList();
        this.tabs = new QueryList();
    }
    ngAfterContentInit() {
        this.tabs.changes.pipe(startWith(this.tabs), untilDestroyed(this)).subscribe(() => {
            const tabToOpen = this.openedTab
                ? this.tabs.find((tab) => tab.id === this.openedTab)
                : this.tabs.get(0);
            tabToOpen && this.selectTab(tabToOpen);
            this.changeDetectorRef.markForCheck();
        });
    }
    ngAfterViewInit() {
        this.tabElements.changes
            .pipe(startWith(this.tabElements), untilDestroyed(this))
            .subscribe(() => this.changeDetectorRef.detectChanges());
    }
    get selectedIndex() {
        return this.selectedTab ? this.tabs.toArray().indexOf(this.selectedTab) : -1;
    }
    get selectedHeaderTab() {
        return this.selectedTab ? this.tabElements.get(this.selectedIndex) ?? null : null;
    }
    selectTab(tab) {
        this.selectedTab = tab;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocTabGroupComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.1.0", type: NgDocTabGroupComponent, isStandalone: true, selector: "ng-doc-tab-group", inputs: { openedTab: "openedTab" }, queries: [{ propertyName: "tabs", predicate: NgDocTabComponent }], viewQueries: [{ propertyName: "tabElements", predicate: ["headerTab"], descendants: true }], ngImport: i0, template: "<div class=\"ng-doc-tabs-wrapper\" ngDocSelectionHost>\n\t<ng-doc-selection></ng-doc-selection>\n\t<div\n\t\tclass=\"ng-doc-tab\"\n\t\t[class.selected]=\"tab === selectedTab\"\n\t\t*ngFor=\"let tab of tabs\"\n\t\t(click)=\"selectTab(tab)\"\n\t\t[ngDocSelectionOrigin]=\"tab === selectedTab\"\n\t\t#headerTab>\n\t\t<div class=\"ng-doc-tab-text\">\n\t\t\t<ng-container *polymorpheusOutlet=\"tab.label; context: {}\">{{ tab.label }}</ng-container>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"ng-doc-body-wrapper\">\n\t<ng-doc-smooth-resize [trigger]=\"selectedTab?.content ?? ''\">\n\t\t<div *polymorpheusOutlet=\"selectedTab?.content ?? '' as text; context: {}\" @tabFadeAnimation>\n\t\t\t{{ text }}\n\t\t</div>\n\t</ng-doc-smooth-resize>\n</div>\n", styles: [":host{display:flex;flex-direction:column;background:var(--ng-doc-tab-group-header-background, var(--ng-doc-tab-group-background));border-radius:var(--ng-doc-tab-group-border-radius);border:var(--ng-doc-tab-group-border);overflow:hidden}:host .ng-doc-tabs-wrapper{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);position:relative;width:100%;display:inline-flex;overflow-x:auto;line-height:18px;font-size:14px;flex-shrink:0;background:var(--ng-doc-tab-group-tabs-background)}:host .ng-doc-tabs-wrapper .ng-doc-tab{position:relative;padding:var(--ng-doc-base-gutter) calc(var(--ng-doc-base-gutter) * 2);cursor:pointer;white-space:nowrap}:host .ng-doc-tabs-wrapper .ng-doc-tab .ng-doc-tab-text{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);position:relative;--ng-doc-font-size: 13px;--ng-doc-font-weight: 600}:host .ng-doc-body-wrapper{position:relative;background-color:var(--ng-doc-tab-group-background);height:100%;overflow:hidden;border-top:1px solid var(--ng-doc-border-color)}\n"], dependencies: [{ kind: "directive", type: NgDocSelectionHostDirective, selector: "[ngDocSelectionHost]" }, { kind: "component", type: NgDocSelectionComponent, selector: "ng-doc-selection", inputs: ["align"] }, { kind: "directive", type: NgFor, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: NgDocSelectionOriginDirective, selector: "[ngDocSelectionOrigin]", inputs: ["ngDocSelectionOrigin"] }, { kind: "ngmodule", type: PolymorpheusModule }, { kind: "directive", type: i1.PolymorpheusOutletDirective, selector: "[polymorpheusOutlet]", inputs: ["polymorpheusOutlet", "polymorpheusOutletContext"] }, { kind: "component", type: NgDocSmoothResizeComponent, selector: "ng-doc-smooth-resize", inputs: ["trigger", "animateOpacity"] }], animations: [tabFadeAnimation], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
};
NgDocTabGroupComponent = __decorate([
    UntilDestroy(),
    __metadata("design:paramtypes", [ChangeDetectorRef])
], NgDocTabGroupComponent);
export { NgDocTabGroupComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.1.0", ngImport: i0, type: NgDocTabGroupComponent, decorators: [{
            type: Component,
            args: [{ animations: [tabFadeAnimation], selector: 'ng-doc-tab-group', changeDetection: ChangeDetectionStrategy.OnPush, standalone: true, imports: [
                        NgDocSelectionHostDirective,
                        NgDocSelectionComponent,
                        NgFor,
                        NgDocSelectionOriginDirective,
                        PolymorpheusModule,
                        NgDocSmoothResizeComponent,
                    ], template: "<div class=\"ng-doc-tabs-wrapper\" ngDocSelectionHost>\n\t<ng-doc-selection></ng-doc-selection>\n\t<div\n\t\tclass=\"ng-doc-tab\"\n\t\t[class.selected]=\"tab === selectedTab\"\n\t\t*ngFor=\"let tab of tabs\"\n\t\t(click)=\"selectTab(tab)\"\n\t\t[ngDocSelectionOrigin]=\"tab === selectedTab\"\n\t\t#headerTab>\n\t\t<div class=\"ng-doc-tab-text\">\n\t\t\t<ng-container *polymorpheusOutlet=\"tab.label; context: {}\">{{ tab.label }}</ng-container>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"ng-doc-body-wrapper\">\n\t<ng-doc-smooth-resize [trigger]=\"selectedTab?.content ?? ''\">\n\t\t<div *polymorpheusOutlet=\"selectedTab?.content ?? '' as text; context: {}\" @tabFadeAnimation>\n\t\t\t{{ text }}\n\t\t</div>\n\t</ng-doc-smooth-resize>\n</div>\n", styles: [":host{display:flex;flex-direction:column;background:var(--ng-doc-tab-group-header-background, var(--ng-doc-tab-group-background));border-radius:var(--ng-doc-tab-group-border-radius);border:var(--ng-doc-tab-group-border);overflow:hidden}:host .ng-doc-tabs-wrapper{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);position:relative;width:100%;display:inline-flex;overflow-x:auto;line-height:18px;font-size:14px;flex-shrink:0;background:var(--ng-doc-tab-group-tabs-background)}:host .ng-doc-tabs-wrapper .ng-doc-tab{position:relative;padding:var(--ng-doc-base-gutter) calc(var(--ng-doc-base-gutter) * 2);cursor:pointer;white-space:nowrap}:host .ng-doc-tabs-wrapper .ng-doc-tab .ng-doc-tab-text{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);position:relative;--ng-doc-font-size: 13px;--ng-doc-font-weight: 600}:host .ng-doc-body-wrapper{position:relative;background-color:var(--ng-doc-tab-group-background);height:100%;overflow:hidden;border-top:1px solid var(--ng-doc-border-color)}\n"] }]
        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }], propDecorators: { openedTab: [{
                type: Input
            }], tabElements: [{
                type: ViewChildren,
                args: ['headerTab']
            }], tabs: [{
                type: ContentChildren,
                args: [NgDocTabComponent]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFiLWdyb3VwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvdWkta2l0L2NvbXBvbmVudHMvdGFiLWdyb3VwL3RhYi1ncm91cC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL3VpLWtpdC9jb21wb25lbnRzL3RhYi1ncm91cC90YWItZ3JvdXAuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN4QyxPQUFPLEVBR04sdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsZUFBZSxFQUVmLEtBQUssRUFDTCxTQUFTLEVBQ1QsWUFBWSxHQUNaLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQzdELE9BQU8sRUFDTix1QkFBdUIsRUFDdkIsMkJBQTJCLEVBQzNCLDZCQUE2QixHQUM3QixNQUFNLHFDQUFxQyxDQUFDO0FBQzdDLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBQ3JGLE9BQU8sRUFBRSxZQUFZLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDckUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTNDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDOzs7QUFtQmpELElBQU0sc0JBQXNCLEdBQTVCLE1BQU0sc0JBQXNCO0lBWWxDLFlBQTZCLGlCQUFvQztRQUFwQyxzQkFBaUIsR0FBakIsaUJBQWlCLENBQW1CO1FBUGpFLGdCQUFXLEdBQTBCLElBQUksU0FBUyxFQUFjLENBQUM7UUFHakUsU0FBSSxHQUFvQyxJQUFJLFNBQVMsRUFBd0IsQ0FBQztJQUlWLENBQUM7SUFFckUsa0JBQWtCO1FBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7WUFDakYsTUFBTSxTQUFTLEdBQXFDLElBQUksQ0FBQyxTQUFTO2dCQUNqRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUF5QixFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUM7Z0JBQzFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVwQixTQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUV2QyxJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDO0lBRUQsZUFBZTtRQUNkLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTzthQUN0QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDdkQsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDaEIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlFLENBQUM7SUFFRCxJQUFJLGlCQUFpQjtRQUNwQixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNuRixDQUFDO0lBRUQsU0FBUyxDQUFDLEdBQXlCO1FBQ2xDLElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO0lBQ3hCLENBQUM7OEdBMUNXLHNCQUFzQjtrR0FBdEIsc0JBQXNCLHFJQU9qQixpQkFBaUIsMEhDbERuQyw4dUJBc0JBLGcwQ0RZRSwyQkFBMkIsaUVBQzNCLHVCQUF1QixnRkFDdkIsS0FBSyxtSEFDTCw2QkFBNkIsb0dBQzdCLGtCQUFrQiwyTEFDbEIsMEJBQTBCLDBGQVpmLENBQUMsZ0JBQWdCLENBQUM7O0FBZ0JsQixzQkFBc0I7SUFEbEMsWUFBWSxFQUFFO3FDQWFrQyxpQkFBaUI7R0FackQsc0JBQXNCLENBMkNsQzs7MkZBM0NZLHNCQUFzQjtrQkFqQmxDLFNBQVM7aUNBQ0csQ0FBQyxnQkFBZ0IsQ0FBQyxZQUNwQixrQkFBa0IsbUJBR1gsdUJBQXVCLENBQUMsTUFBTSxjQUNuQyxJQUFJLFdBQ1A7d0JBQ1IsMkJBQTJCO3dCQUMzQix1QkFBdUI7d0JBQ3ZCLEtBQUs7d0JBQ0wsNkJBQTZCO3dCQUM3QixrQkFBa0I7d0JBQ2xCLDBCQUEwQjtxQkFDMUI7c0ZBS0QsU0FBUztzQkFEUixLQUFLO2dCQUlOLFdBQVc7c0JBRFYsWUFBWTt1QkFBQyxXQUFXO2dCQUl6QixJQUFJO3NCQURILGVBQWU7dUJBQUMsaUJBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdGb3IgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtcblx0QWZ0ZXJDb250ZW50SW5pdCxcblx0QWZ0ZXJWaWV3SW5pdCxcblx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG5cdENoYW5nZURldGVjdG9yUmVmLFxuXHRDb21wb25lbnQsXG5cdENvbnRlbnRDaGlsZHJlbixcblx0RWxlbWVudFJlZixcblx0SW5wdXQsXG5cdFF1ZXJ5TGlzdCxcblx0Vmlld0NoaWxkcmVuLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IHRhYkZhZGVBbmltYXRpb24gfSBmcm9tICdAbmctZG9jL3VpLWtpdC9hbmltYXRpb25zJztcbmltcG9ydCB7XG5cdE5nRG9jU2VsZWN0aW9uQ29tcG9uZW50LFxuXHROZ0RvY1NlbGVjdGlvbkhvc3REaXJlY3RpdmUsXG5cdE5nRG9jU2VsZWN0aW9uT3JpZ2luRGlyZWN0aXZlLFxufSBmcm9tICdAbmctZG9jL3VpLWtpdC9jb21wb25lbnRzL3NlbGVjdGlvbic7XG5pbXBvcnQgeyBOZ0RvY1Ntb290aFJlc2l6ZUNvbXBvbmVudCB9IGZyb20gJ0BuZy1kb2MvdWkta2l0L2NvbXBvbmVudHMvc21vb3RoLXJlc2l6ZSc7XG5pbXBvcnQgeyBVbnRpbERlc3Ryb3ksIHVudGlsRGVzdHJveWVkIH0gZnJvbSAnQG5nbmVhdC91bnRpbC1kZXN0cm95JztcbmltcG9ydCB7IFBvbHltb3JwaGV1c01vZHVsZSB9IGZyb20gJ0B0aW5rb2ZmL25nLXBvbHltb3JwaGV1cyc7XG5pbXBvcnQgeyBzdGFydFdpdGggfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmltcG9ydCB7IE5nRG9jVGFiQ29tcG9uZW50IH0gZnJvbSAnLi90YWIvdGFiLmNvbXBvbmVudCc7XG5cbkBDb21wb25lbnQoe1xuXHRhbmltYXRpb25zOiBbdGFiRmFkZUFuaW1hdGlvbl0sXG5cdHNlbGVjdG9yOiAnbmctZG9jLXRhYi1ncm91cCcsXG5cdHRlbXBsYXRlVXJsOiAnLi90YWItZ3JvdXAuY29tcG9uZW50Lmh0bWwnLFxuXHRzdHlsZVVybHM6IFsnLi90YWItZ3JvdXAuY29tcG9uZW50LnNjc3MnXSxcblx0Y2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG5cdHN0YW5kYWxvbmU6IHRydWUsXG5cdGltcG9ydHM6IFtcblx0XHROZ0RvY1NlbGVjdGlvbkhvc3REaXJlY3RpdmUsXG5cdFx0TmdEb2NTZWxlY3Rpb25Db21wb25lbnQsXG5cdFx0TmdGb3IsXG5cdFx0TmdEb2NTZWxlY3Rpb25PcmlnaW5EaXJlY3RpdmUsXG5cdFx0UG9seW1vcnBoZXVzTW9kdWxlLFxuXHRcdE5nRG9jU21vb3RoUmVzaXplQ29tcG9uZW50LFxuXHRdLFxufSlcbkBVbnRpbERlc3Ryb3koKVxuZXhwb3J0IGNsYXNzIE5nRG9jVGFiR3JvdXBDb21wb25lbnQ8VCA9IG51bWJlcj4gaW1wbGVtZW50cyBBZnRlckNvbnRlbnRJbml0LCBBZnRlclZpZXdJbml0IHtcblx0QElucHV0KClcblx0b3BlbmVkVGFiITogVDtcblxuXHRAVmlld0NoaWxkcmVuKCdoZWFkZXJUYWInKVxuXHR0YWJFbGVtZW50czogUXVlcnlMaXN0PEVsZW1lbnRSZWY+ID0gbmV3IFF1ZXJ5TGlzdDxFbGVtZW50UmVmPigpO1xuXG5cdEBDb250ZW50Q2hpbGRyZW4oTmdEb2NUYWJDb21wb25lbnQpXG5cdHRhYnM6IFF1ZXJ5TGlzdDxOZ0RvY1RhYkNvbXBvbmVudDxUPj4gPSBuZXcgUXVlcnlMaXN0PE5nRG9jVGFiQ29tcG9uZW50PFQ+PigpO1xuXG5cdHNlbGVjdGVkVGFiPzogTmdEb2NUYWJDb21wb25lbnQ8VD47XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBjaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHt9XG5cblx0bmdBZnRlckNvbnRlbnRJbml0KCk6IHZvaWQge1xuXHRcdHRoaXMudGFicy5jaGFuZ2VzLnBpcGUoc3RhcnRXaXRoKHRoaXMudGFicyksIHVudGlsRGVzdHJveWVkKHRoaXMpKS5zdWJzY3JpYmUoKCkgPT4ge1xuXHRcdFx0Y29uc3QgdGFiVG9PcGVuOiBOZ0RvY1RhYkNvbXBvbmVudDxUPiB8IHVuZGVmaW5lZCA9IHRoaXMub3BlbmVkVGFiXG5cdFx0XHRcdD8gdGhpcy50YWJzLmZpbmQoKHRhYjogTmdEb2NUYWJDb21wb25lbnQ8VD4pID0+IHRhYi5pZCA9PT0gdGhpcy5vcGVuZWRUYWIpXG5cdFx0XHRcdDogdGhpcy50YWJzLmdldCgwKTtcblxuXHRcdFx0dGFiVG9PcGVuICYmIHRoaXMuc2VsZWN0VGFiKHRhYlRvT3Blbik7XG5cblx0XHRcdHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG5cdFx0dGhpcy50YWJFbGVtZW50cy5jaGFuZ2VzXG5cdFx0XHQucGlwZShzdGFydFdpdGgodGhpcy50YWJFbGVtZW50cyksIHVudGlsRGVzdHJveWVkKHRoaXMpKVxuXHRcdFx0LnN1YnNjcmliZSgoKSA9PiB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKSk7XG5cdH1cblxuXHRnZXQgc2VsZWN0ZWRJbmRleCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLnNlbGVjdGVkVGFiID8gdGhpcy50YWJzLnRvQXJyYXkoKS5pbmRleE9mKHRoaXMuc2VsZWN0ZWRUYWIpIDogLTE7XG5cdH1cblxuXHRnZXQgc2VsZWN0ZWRIZWFkZXJUYWIoKTogRWxlbWVudFJlZiB8IG51bGwge1xuXHRcdHJldHVybiB0aGlzLnNlbGVjdGVkVGFiID8gdGhpcy50YWJFbGVtZW50cy5nZXQodGhpcy5zZWxlY3RlZEluZGV4KSA/PyBudWxsIDogbnVsbDtcblx0fVxuXG5cdHNlbGVjdFRhYih0YWI6IE5nRG9jVGFiQ29tcG9uZW50PFQ+KSB7XG5cdFx0dGhpcy5zZWxlY3RlZFRhYiA9IHRhYjtcblx0fVxufVxuIiwiPGRpdiBjbGFzcz1cIm5nLWRvYy10YWJzLXdyYXBwZXJcIiBuZ0RvY1NlbGVjdGlvbkhvc3Q+XG5cdDxuZy1kb2Mtc2VsZWN0aW9uPjwvbmctZG9jLXNlbGVjdGlvbj5cblx0PGRpdlxuXHRcdGNsYXNzPVwibmctZG9jLXRhYlwiXG5cdFx0W2NsYXNzLnNlbGVjdGVkXT1cInRhYiA9PT0gc2VsZWN0ZWRUYWJcIlxuXHRcdCpuZ0Zvcj1cImxldCB0YWIgb2YgdGFic1wiXG5cdFx0KGNsaWNrKT1cInNlbGVjdFRhYih0YWIpXCJcblx0XHRbbmdEb2NTZWxlY3Rpb25PcmlnaW5dPVwidGFiID09PSBzZWxlY3RlZFRhYlwiXG5cdFx0I2hlYWRlclRhYj5cblx0XHQ8ZGl2IGNsYXNzPVwibmctZG9jLXRhYi10ZXh0XCI+XG5cdFx0XHQ8bmctY29udGFpbmVyICpwb2x5bW9ycGhldXNPdXRsZXQ9XCJ0YWIubGFiZWw7IGNvbnRleHQ6IHt9XCI+e3sgdGFiLmxhYmVsIH19PC9uZy1jb250YWluZXI+XG5cdFx0PC9kaXY+XG5cdDwvZGl2PlxuPC9kaXY+XG5cbjxkaXYgY2xhc3M9XCJuZy1kb2MtYm9keS13cmFwcGVyXCI+XG5cdDxuZy1kb2Mtc21vb3RoLXJlc2l6ZSBbdHJpZ2dlcl09XCJzZWxlY3RlZFRhYj8uY29udGVudCA/PyAnJ1wiPlxuXHRcdDxkaXYgKnBvbHltb3JwaGV1c091dGxldD1cInNlbGVjdGVkVGFiPy5jb250ZW50ID8/ICcnIGFzIHRleHQ7IGNvbnRleHQ6IHt9XCIgQHRhYkZhZGVBbmltYXRpb24+XG5cdFx0XHR7eyB0ZXh0IH19XG5cdFx0PC9kaXY+XG5cdDwvbmctZG9jLXNtb290aC1yZXNpemU+XG48L2Rpdj5cbiJdfQ==