{"version":3,"file":"ng-doc-ui-kit-services-notify.mjs","sources":["../../../../libs/ui-kit/services/notify/notify.service.ts","../../../../libs/ui-kit/services/notify/ng-doc-ui-kit-services-notify.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { notificationCloseAnimation, notificationOpenAnimation } from '@ng-doc/ui-kit/animations';\nimport { NgDocOverlayRef } from '@ng-doc/ui-kit/classes';\nimport { NgDocOverlayContainerComponent } from '@ng-doc/ui-kit/components/overlay-container';\nimport { NgDocOverlayService } from '@ng-doc/ui-kit/services/overlay';\nimport { NgDocContent } from '@ng-doc/ui-kit/types';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { Subject, timer } from 'rxjs';\nimport { switchMap, tap } from 'rxjs/operators';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\n@UntilDestroy()\nexport class NgDocNotifyService {\n\tprivate overlayRef?: NgDocOverlayRef;\n\tprivate readonly notify$: Subject<NgDocContent> = new Subject<NgDocContent>();\n\n\tconstructor(private readonly overlayService: NgDocOverlayService) {\n\t\tthis.notify$\n\t\t\t.pipe(\n\t\t\t\ttap(() => this.overlayRef?.close()),\n\t\t\t\ttap((content: NgDocContent) => this.openOverlay(content)),\n\t\t\t\tswitchMap(() => timer(2000)),\n\t\t\t\tuntilDestroyed(this),\n\t\t\t)\n\t\t\t.subscribe(() => this.overlayRef?.close());\n\t}\n\n\tnotify(content: NgDocContent): void {\n\t\tthis.notify$.next(content);\n\t}\n\n\tprivate openOverlay(content: NgDocContent): void {\n\t\tthis.overlayRef = this.overlayService.open(content, {\n\t\t\toverlayContainer: NgDocOverlayContainerComponent,\n\t\t\tpanelClass: 'ng-doc-notify',\n\t\t\tpositionStrategy: this.overlayService\n\t\t\t\t.globalPositionStrategy()\n\t\t\t\t.bottom('10px')\n\t\t\t\t.centerHorizontally(),\n\t\t\topenAnimation: notificationOpenAnimation,\n\t\t\tcloseAnimation: notificationCloseAnimation,\n\t\t});\n\t}\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;;;;AAca,IAAA,kBAAkB,GAAxB,MAAM,kBAAkB,CAAA;AAI9B,IAAA,WAAA,CAA6B,cAAmC,EAAA;QAAnC,IAAc,CAAA,cAAA,GAAd,cAAc,CAAqB;AAF/C,QAAA,IAAA,CAAA,OAAO,GAA0B,IAAI,OAAO,EAAgB,CAAC;AAG7E,QAAA,IAAI,CAAC,OAAO;aACV,IAAI,CACJ,GAAG,CAAC,MAAM,IAAI,CAAC,UAAU,EAAE,KAAK,EAAE,CAAC,EACnC,GAAG,CAAC,CAAC,OAAqB,KAAK,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,EACzD,SAAS,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,EAC5B,cAAc,CAAC,IAAI,CAAC,CACpB;aACA,SAAS,CAAC,MAAM,IAAI,CAAC,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;KAC5C;AAED,IAAA,MAAM,CAAC,OAAqB,EAAA;AAC3B,QAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAC3B;AAEO,IAAA,WAAW,CAAC,OAAqB,EAAA;QACxC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE;AACnD,YAAA,gBAAgB,EAAE,8BAA8B;AAChD,YAAA,UAAU,EAAE,eAAe;YAC3B,gBAAgB,EAAE,IAAI,CAAC,cAAc;AACnC,iBAAA,sBAAsB,EAAE;iBACxB,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,kBAAkB,EAAE;AACtB,YAAA,aAAa,EAAE,yBAAyB;AACxC,YAAA,cAAc,EAAE,0BAA0B;AAC1C,SAAA,CAAC,CAAC;KACH;8GA9BW,kBAAkB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,mBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA,EAAA;AAAlB,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,kBAAkB,cAHlB,MAAM,EAAA,CAAA,CAAA,EAAA;;AAGN,kBAAkB,GAAA,UAAA,CAAA;AAD9B,IAAA,YAAY,EAAE;qCAK+B,mBAAmB,CAAA,CAAA;AAJpD,CAAA,EAAA,kBAAkB,CA+B9B,CAAA;2FA/BY,kBAAkB,EAAA,UAAA,EAAA,CAAA;kBAJ9B,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACX,oBAAA,UAAU,EAAE,MAAM;AAClB,iBAAA,CAAA;;;ACZD;;AAEG;;;;"}