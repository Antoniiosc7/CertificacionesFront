{"version":3,"file":"ng-doc-ui-kit-directives-event-switcher.mjs","sources":["../../../../libs/ui-kit/directives/event-switcher/event-switcher.directive.ts","../../../../libs/ui-kit/directives/event-switcher/ng-doc-ui-kit-directives-event-switcher.ts"],"sourcesContent":["import { Directive, ElementRef, Input, NgZone, OnInit } from '@angular/core';\nimport { asArray } from '@ng-doc/core/helpers/as-array';\nimport { Constructor } from '@ng-doc/core/types';\nimport { toElement } from '@ng-doc/ui-kit/helpers';\nimport { ngDocZoneDetach } from '@ng-doc/ui-kit/observables';\nimport { BaseElement } from '@ng-doc/ui-kit/types';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { fromEvent, merge } from 'rxjs';\n\n@Directive({\n\tselector: '[ngDocEventSwitcher]',\n\tstandalone: true,\n})\n@UntilDestroy()\nexport class NgDocEventSwitcherDirective implements OnInit {\n\t@Input('ngDocEventSwitcher')\n\tswitchTo: BaseElement<HTMLElement> | null = null;\n\n\t@Input()\n\tevents: string | string[] = [];\n\n\tconstructor(private elementRef: ElementRef<HTMLElement>, private ngZone: NgZone) {}\n\n\tngOnInit(): void {\n\t\tmerge(\n\t\t\t...asArray(this.events).map((eventName: string) =>\n\t\t\t\tfromEvent(this.elementRef.nativeElement, eventName),\n\t\t\t),\n\t\t)\n\t\t\t.pipe(ngDocZoneDetach(this.ngZone), untilDestroyed(this))\n\t\t\t.subscribe((event: Event) => {\n\t\t\t\tif (this.switchTo && !event.defaultPrevented && event.bubbles) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tthis.makeEvent(event, toElement(this.switchTo));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate makeEvent(from: Event, target: Element): void {\n\t\tconst eventConstructor: Constructor<Event> = from.constructor as Constructor<Event>;\n\t\ttarget.dispatchEvent(new eventConstructor(from.type, from));\n\t}\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;;AAca,IAAA,2BAA2B,GAAjC,MAAM,2BAA2B,CAAA;IAOvC,WAAoB,CAAA,UAAmC,EAAU,MAAc,EAAA;QAA3D,IAAU,CAAA,UAAA,GAAV,UAAU,CAAyB;QAAU,IAAM,CAAA,MAAA,GAAN,MAAM,CAAQ;QAL/E,IAAQ,CAAA,QAAA,GAAoC,IAAI,CAAC;QAGjD,IAAM,CAAA,MAAA,GAAsB,EAAE,CAAC;KAEoD;IAEnF,QAAQ,GAAA;QACP,KAAK,CACJ,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,SAAiB,KAC7C,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,SAAS,CAAC,CACnD,CACD;AACC,aAAA,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,cAAc,CAAC,IAAI,CAAC,CAAC;AACxD,aAAA,SAAS,CAAC,CAAC,KAAY,KAAI;AAC3B,YAAA,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,gBAAgB,IAAI,KAAK,CAAC,OAAO,EAAE;gBAC9D,KAAK,CAAC,eAAe,EAAE,CAAC;AACxB,gBAAA,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;aAChD;AACF,SAAC,CAAC,CAAC;KACJ;IAEO,SAAS,CAAC,IAAW,EAAE,MAAe,EAAA;AAC7C,QAAA,MAAM,gBAAgB,GAAuB,IAAI,CAAC,WAAiC,CAAC;AACpF,QAAA,MAAM,CAAC,aAAa,CAAC,IAAI,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;KAC5D;8GA3BW,2BAA2B,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;kGAA3B,2BAA2B,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,sBAAA,EAAA,MAAA,EAAA,EAAA,QAAA,EAAA,CAAA,oBAAA,EAAA,UAAA,CAAA,EAAA,MAAA,EAAA,QAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA,EAAA;;AAA3B,2BAA2B,GAAA,UAAA,CAAA;AADvC,IAAA,YAAY,EAAE;AAQkB,IAAA,UAAA,CAAA,mBAAA,EAAA,CAAA,UAAU,EAA+B,MAAM,CAAA,CAAA;AAPnE,CAAA,EAAA,2BAA2B,CA4BvC,CAAA;2FA5BY,2BAA2B,EAAA,UAAA,EAAA,CAAA;kBALvC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,QAAQ,EAAE,sBAAsB;AAChC,oBAAA,UAAU,EAAE,IAAI;AAChB,iBAAA,CAAA;oGAIA,QAAQ,EAAA,CAAA;sBADP,KAAK;uBAAC,oBAAoB,CAAA;gBAI3B,MAAM,EAAA,CAAA;sBADL,KAAK;;;AClBP;;AAEG;;;;"}