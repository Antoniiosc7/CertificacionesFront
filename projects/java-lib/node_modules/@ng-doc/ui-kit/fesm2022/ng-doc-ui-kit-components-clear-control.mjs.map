{"version":3,"file":"ng-doc-ui-kit-components-clear-control.mjs","sources":["../../../../libs/ui-kit/components/clear-control/clear-control.component.ts","../../../../libs/ui-kit/components/clear-control/clear-control.component.html","../../../../libs/ui-kit/components/clear-control/ng-doc-ui-kit-components-clear-control.ts"],"sourcesContent":["import { NgIf } from '@angular/common';\nimport { AfterContentInit, ChangeDetectionStrategy, Component, inject } from '@angular/core';\nimport { NgDocInputHost } from '@ng-doc/ui-kit/classes/input-host';\nimport { NgDocButtonIconComponent } from '@ng-doc/ui-kit/components/button-icon';\nimport { NgDocIconComponent } from '@ng-doc/ui-kit/components/icon';\nimport { NgDocFocusableDirective } from '@ng-doc/ui-kit/directives/focusable';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { DIControl, injectHostControl } from 'di-controls';\n\n@Component({\n\tselector: 'ng-doc-clear-control',\n\ttemplateUrl: './clear-control.component.html',\n\tstyleUrls: ['./clear-control.component.scss'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tstandalone: true,\n\timports: [NgIf, NgDocButtonIconComponent, NgDocFocusableDirective, NgDocIconComponent],\n})\n@UntilDestroy()\nexport class NgDocClearControlComponent<T> extends DIControl<T> implements AfterContentInit {\n\tprotected readonly inputHost: NgDocInputHost<T> | null = inject(NgDocInputHost, {\n\t\toptional: true,\n\t});\n\n\tconstructor() {\n\t\tsuper({\n\t\t\thost: injectHostControl(),\n\t\t});\n\t}\n\n\tngAfterContentInit(): void {\n\t\tif (this.inputHost?.inputControl) {\n\t\t\tthis.inputHost.inputControl.changes\n\t\t\t\t.pipe(untilDestroyed(this))\n\t\t\t\t.subscribe(() => this.changeDetectorRef.detectChanges());\n\t\t}\n\t}\n\n\tget isVisible(): boolean {\n\t\treturn this.inputHost?.inputControl?.hasValue || this.hasValue;\n\t}\n\n\tclear(): void {\n\t\tthis.inputHost?.inputControl?.writeValueFromHost(null);\n\t\tthis.updateModel(null);\n\t}\n}\n","<button\n\tng-doc-button-icon\n\tsize=\"large\"\n\t[ngDocFocusable]=\"false\"\n\t[disabled]=\"disabled\"\n\t[rounded]=\"false\"\n\t(click)=\"clear()\"\n\t(focusout)=\"touch()\"\n\t*ngIf=\"isVisible\">\n\t<ng-doc-icon icon=\"x\"></ng-doc-icon>\n</button>\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;;;;AAkBO,IAAM,0BAA0B,GAAhC,MAAM,0BAA8B,SAAQ,SAAY,CAAA;AAK9D,IAAA,WAAA,GAAA;AACC,QAAA,KAAK,CAAC;YACL,IAAI,EAAE,iBAAiB,EAAE;AACzB,SAAA,CAAC,CAAC;AAPe,QAAA,IAAA,CAAA,SAAS,GAA6B,MAAM,CAAC,cAAc,EAAE;AAC/E,YAAA,QAAQ,EAAE,IAAI;AACd,SAAA,CAAC,CAAC;KAMF;IAED,kBAAkB,GAAA;AACjB,QAAA,IAAI,IAAI,CAAC,SAAS,EAAE,YAAY,EAAE;AACjC,YAAA,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,OAAO;AACjC,iBAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;iBAC1B,SAAS,CAAC,MAAM,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC,CAAC;SAC1D;KACD;AAED,IAAA,IAAI,SAAS,GAAA;QACZ,OAAO,IAAI,CAAC,SAAS,EAAE,YAAY,EAAE,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC;KAC/D;IAED,KAAK,GAAA;QACJ,IAAI,CAAC,SAAS,EAAE,YAAY,EAAE,kBAAkB,CAAC,IAAI,CAAC,CAAC;AACvD,QAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KACvB;8GA1BW,0BAA0B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;kGAA1B,0BAA0B,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,sBAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EClBvC,iQAWA,EDIW,MAAA,EAAA,CAAA,+BAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,IAAI,6FAAE,wBAAwB,EAAA,QAAA,EAAA,mDAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAE,uBAAuB,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,gBAAA,CAAA,EAAA,QAAA,EAAA,CAAA,gBAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAE,kBAAkB,EAAA,QAAA,EAAA,aAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,MAAA,CAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA,EAAA;;AAGzE,0BAA0B,GAAA,UAAA,CAAA;AADtC,IAAA,YAAY,EAAE;;AACF,CAAA,EAAA,0BAA0B,CA2BtC,CAAA;2FA3BY,0BAA0B,EAAA,UAAA,EAAA,CAAA;kBATtC,SAAS;AACC,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,sBAAsB,EAGf,eAAA,EAAA,uBAAuB,CAAC,MAAM,cACnC,IAAI,EAAA,OAAA,EACP,CAAC,IAAI,EAAE,wBAAwB,EAAE,uBAAuB,EAAE,kBAAkB,CAAC,EAAA,QAAA,EAAA,iQAAA,EAAA,MAAA,EAAA,CAAA,+BAAA,CAAA,EAAA,CAAA;;;AEfvF;;AAEG;;;;"}