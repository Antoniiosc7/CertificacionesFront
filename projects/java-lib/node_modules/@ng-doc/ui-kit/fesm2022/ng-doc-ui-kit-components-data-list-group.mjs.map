{"version":3,"file":"ng-doc-ui-kit-components-data-list-group.mjs","sources":["../../../../libs/ui-kit/components/data-list-group/data-list-group.component.ts","../../../../libs/ui-kit/components/data-list-group/data-list-group.component.html","../../../../libs/ui-kit/components/data-list-group/ng-doc-ui-kit-components-data-list-group.ts"],"sourcesContent":["import { NgFor, NgIf } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { NgDocDataListComponent } from '@ng-doc/ui-kit/components/data-list';\nimport { NgDocListComponent } from '@ng-doc/ui-kit/components/list';\nimport { NgDocOptionComponent } from '@ng-doc/ui-kit/components/option';\nimport {\n\tNgDocOptionGroupComponent,\n\tNgDocOptionGroupHeaderDirective,\n} from '@ng-doc/ui-kit/components/option-group';\nimport { NgDocTextComponent } from '@ng-doc/ui-kit/components/text';\nimport { NG_DOC_DEFAULT_STRINGIFY } from '@ng-doc/ui-kit/constants';\nimport { ngDocMakePure } from '@ng-doc/ui-kit/decorators';\nimport { NgDocContextWithImplicit } from '@ng-doc/ui-kit/interfaces';\nimport { NgDocContent, NgDocGroupFn } from '@ng-doc/ui-kit/types';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\n\n@Component({\n\tselector: 'ng-doc-data-list-group',\n\ttemplateUrl: './data-list-group.component.html',\n\tstyleUrls: ['./data-list-group.component.scss'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tstandalone: true,\n\timports: [\n\t\tNgDocListComponent,\n\t\tNgIf,\n\t\tNgFor,\n\t\tNgDocOptionGroupComponent,\n\t\tPolymorpheusModule,\n\t\tNgDocOptionGroupHeaderDirective,\n\t\tNgDocOptionComponent,\n\t\tNgDocTextComponent,\n\t],\n})\nexport class NgDocDataListGroupComponent<T, G>\n\textends NgDocDataListComponent<T>\n\timplements OnChanges\n{\n\t@Input()\n\titemGroupFn?: NgDocGroupFn<T, G>;\n\n\t@Input()\n\tgroupContent: NgDocContent<NgDocContextWithImplicit<G>> = ({\n\t\t$implicit,\n\t}: NgDocContextWithImplicit<G>) => NG_DOC_DEFAULT_STRINGIFY($implicit);\n\n\tgroups: Map<G, T[]> = new Map();\n\n\tgroupItems: G[] = [];\n\n\t@ngDocMakePure\n\tgetGroupContext($implicit: G): NgDocContextWithImplicit<G> {\n\t\treturn { $implicit };\n\t}\n\n\tngOnChanges({ items, itemGroupFn }: SimpleChanges): void {\n\t\tif (items || itemGroupFn) {\n\t\t\tthis.groups = new Map<G, T[]>();\n\n\t\t\tthis.items?.forEach((item: T) => {\n\t\t\t\tif (this.itemGroupFn) {\n\t\t\t\t\tconst itemGroup: G = this.itemGroupFn(item);\n\t\t\t\t\tconst itemsList: T[] = this.groups.get(itemGroup) || [];\n\t\t\t\t\titemsList.push(item);\n\n\t\t\t\t\tthis.groups.set(this.itemGroupFn(item), itemsList);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.groupItems = Array.from(this.groups.keys());\n\t\t}\n\t}\n}\n","<ng-doc-list>\n\t<ng-container *ngIf=\"items && items.length; else emptyTemplate\">\n\t\t<ng-doc-option-group *ngFor=\"let group of groupItems\">\n\t\t\t<span\n\t\t\t\t*polymorpheusOutlet=\"groupContent as groupText; context: getGroupContext(group)\"\n\t\t\t\tngDocOptionGroupHeader>\n\t\t\t\t{{ groupText }}\n\t\t\t</span>\n\t\t\t<ng-doc-option\n\t\t\t\t*ngFor=\"let item of groups.get(group); trackBy: trackByFn\"\n\t\t\t\t[value]=\"defineValueFn(item)\"\n\t\t\t\t[disabled]=\"itemDisabledFn(item)\">\n\t\t\t\t<ng-container *polymorpheusOutlet=\"itemContent as text; context: getContext(item)\">\n\t\t\t\t\t{{ text }}\n\t\t\t\t</ng-container>\n\t\t\t</ng-doc-option>\n\t\t</ng-doc-option-group>\n\t</ng-container>\n\n\t<ng-template #emptyTemplate>\n\t\t<div class=\"ng-doc-empty-message\" ng-doc-text>\n\t\t\t<ng-container *ngIf=\"emptyContent\">\n\t\t\t\t<ng-container *polymorpheusOutlet=\"emptyContent as text\"> {{ text }} </ng-container>\n\t\t\t</ng-container>\n\t\t</div>\n\t</ng-template>\n</ng-doc-list>\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}