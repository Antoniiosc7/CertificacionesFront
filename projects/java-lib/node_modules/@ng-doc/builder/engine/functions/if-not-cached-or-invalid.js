"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ifNotCachedOrInvalid = ifNotCachedOrInvalid;
const core_1 = require("@ng-doc/core");
/**
 *
 * @param cache
 * @param store
 */
function ifNotCachedOrInvalid(cache, store) {
    return (entity) => {
        const cacheIsInvalid = !cache.isCacheValid(entity);
        const keywordIsMissing = (0, core_1.asArray)(entity.usedKeywords).some((keyword) => !store.getByKeyword(keyword));
        const keywordAppears = (0, core_1.asArray)(entity.potentialKeywords).some((keyword) => !!store.getByKeyword(keyword));
        return cacheIsInvalid || keywordIsMissing || keywordAppears;
    };
}
//# sourceMappingURL=if-not-cached-or-invalid.js.map